{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documentation Select your device DVL A50 Underwater GPS G2 Underwater GPS Explorer Kit Modem-M64 Locator-U1 Locator-S1 Locator-A1 Locator-D1 Receiver-D1 Master-D1","title":"Home"},{"location":"#documentation","text":"","title":"Documentation"},{"location":"#select-your-device","text":"","title":"Select your device"},{"location":"antenna/","text":"Antenna Description The Antenna is a quick deployable analog hydro acoustic receiver compatible with the Underwater GPS G2 system. The Antenna is equipped with 4 Receiver-A1 with large dynamic range followed by advanced digital signal processing functionality when connected to the Underwater GPS G2 topside unit. Benefits Foldable to minimize space during travel (54 x 12.5 x 14.5 cm). Quick deployable to minimize setup time. Small baseline (98 x 53.5 cm) suitable for small boats and tanks/pools. Highly robust operation in areas with reflections (shallow water, around installations etc.) Includes C-Size RAM Mount fixtures for universial mounting capabilities. Wiring interface The Antenna comes with 10 meters of cable. This is the maximum cable length available for the Antenna due to noise limitations on the analog signals. The table below shows the pinning of the Antenna connector. Dimensions Top view Side view","title":"Antenna"},{"location":"antenna/#antenna","text":"","title":"Antenna"},{"location":"antenna/#description","text":"The Antenna is a quick deployable analog hydro acoustic receiver compatible with the Underwater GPS G2 system. The Antenna is equipped with 4 Receiver-A1 with large dynamic range followed by advanced digital signal processing functionality when connected to the Underwater GPS G2 topside unit.","title":"Description"},{"location":"antenna/#benefits","text":"Foldable to minimize space during travel (54 x 12.5 x 14.5 cm). Quick deployable to minimize setup time. Small baseline (98 x 53.5 cm) suitable for small boats and tanks/pools. Highly robust operation in areas with reflections (shallow water, around installations etc.) Includes C-Size RAM Mount fixtures for universial mounting capabilities.","title":"Benefits"},{"location":"antenna/#wiring-interface","text":"The Antenna comes with 10 meters of cable. This is the maximum cable length available for the Antenna due to noise limitations on the analog signals. The table below shows the pinning of the Antenna connector.","title":"Wiring interface"},{"location":"antenna/#dimensions","text":"Top view Side view","title":"Dimensions"},{"location":"channels/","text":"Channel overview The channels used for the Water Linked acoustic products and what frequency band they are using are shown in the table below. From (kHz) To (kHz) Channels using this frequency band Comment 31.25 62.25 1 Not recommended for modem 62.25 93.75 2, 16 Recommended channel for best range on modem 93.75 125.00 3, 16 Recommended channel for best range on modem 125.00 156.00 4, 17 Not recommended for modem 156.00 187.00 5, 17 187.00 218.00 6, 18 218.00 250.00 7, 18 968.75 1031.25 DVL-A50 388.75 451.25 DVL-A125 Please note that the Underwater GPS channels 16, 17, 18 overlaps multiple modem/Locator-U1 channels.","title":"Channel overview"},{"location":"channels/#channel-overview","text":"The channels used for the Water Linked acoustic products and what frequency band they are using are shown in the table below. From (kHz) To (kHz) Channels using this frequency band Comment 31.25 62.25 1 Not recommended for modem 62.25 93.75 2, 16 Recommended channel for best range on modem 93.75 125.00 3, 16 Recommended channel for best range on modem 125.00 156.00 4, 17 Not recommended for modem 156.00 187.00 5, 17 187.00 218.00 6, 18 218.00 250.00 7, 18 968.75 1031.25 DVL-A50 388.75 451.25 DVL-A125 Please note that the Underwater GPS channels 16, 17, 18 overlaps multiple modem/Locator-U1 channels.","title":"Channel overview"},{"location":"helpful-links/","text":"Helpful links Release download: update.waterlinked.com Web demo: demo.waterlinked.com Forum: waterlinked.com/forum FAQ: waterlinked.com/faq API: demo.waterlinked.com/swagger API examples: waterlinked/examples Youtube: waterlinked/youtube Datasheets DVL A50 Modem M64 Underwater Explorer Kit Locator-U1 Locator-S1 Locator-D1 Locator-A1 Receiver-D1 Master-D1","title":"Helpful Links"},{"location":"helpful-links/#helpful-links","text":"Release download: update.waterlinked.com Web demo: demo.waterlinked.com Forum: waterlinked.com/forum FAQ: waterlinked.com/faq API: demo.waterlinked.com/swagger API examples: waterlinked/examples Youtube: waterlinked/youtube","title":"Helpful links"},{"location":"helpful-links/#datasheets","text":"DVL A50 Modem M64 Underwater Explorer Kit Locator-U1 Locator-S1 Locator-D1 Locator-A1 Receiver-D1 Master-D1","title":"Datasheets"},{"location":"master-d1/","text":"Master-D1 Electronics Description The Master-D1 is a digital acoustic position computing board. It calculates the position of any Locator relative to the position of the Receivers, as well as global position through use of the integrated GPS and IMU (compass). The board supports up to 7 independent D1 devices, 1 A1 device or 1 U1 device. It is accessed through a network interface. The Master-D1 is running its own webserver which exposes an API and a GUI. With its small physical footprint, the board is easily integrated into a topside housing. Benefits Extremely small footprint enabling easy integration in other equipment. Highly robust operation in areas with reflections (shallow water, around installations etc.) Wiring interface Make sure the LED is ON for all D1 interfaces that are connected. The digital D1 interfaces all have a separate LED to show if the communication link is in lock. When a Receiver-D1 or Locator-D1 cable is connected to the master board, the corresponding LED should be continuously ON. The silkscreen marking of the channel LEDs on the PCB are 0-indexed. The channel labels on the housing are 1-index. We thus get following LED channel mapping: Interface LED Receiver, channel 1 0 Receiver, channel 2 1 Receiver, channel 3 2 Receiver, channel 4 3 Locator-D1 6 The LED on the Locator-A1 interface is not in use. Dimensions The diagrams below shows the mechanical dimensions of the Master-D1 electronics. Setup Datasheet","title":"Master-D1"},{"location":"master-d1/#master-d1-electronics","text":"","title":"Master-D1 Electronics"},{"location":"master-d1/#description","text":"The Master-D1 is a digital acoustic position computing board. It calculates the position of any Locator relative to the position of the Receivers, as well as global position through use of the integrated GPS and IMU (compass). The board supports up to 7 independent D1 devices, 1 A1 device or 1 U1 device. It is accessed through a network interface. The Master-D1 is running its own webserver which exposes an API and a GUI. With its small physical footprint, the board is easily integrated into a topside housing.","title":"Description"},{"location":"master-d1/#benefits","text":"Extremely small footprint enabling easy integration in other equipment. Highly robust operation in areas with reflections (shallow water, around installations etc.)","title":"Benefits"},{"location":"master-d1/#wiring-interface","text":"Make sure the LED is ON for all D1 interfaces that are connected. The digital D1 interfaces all have a separate LED to show if the communication link is in lock. When a Receiver-D1 or Locator-D1 cable is connected to the master board, the corresponding LED should be continuously ON. The silkscreen marking of the channel LEDs on the PCB are 0-indexed. The channel labels on the housing are 1-index. We thus get following LED channel mapping: Interface LED Receiver, channel 1 0 Receiver, channel 2 1 Receiver, channel 3 2 Receiver, channel 4 3 Locator-D1 6 The LED on the Locator-A1 interface is not in use.","title":"Wiring interface"},{"location":"master-d1/#dimensions","text":"The diagrams below shows the mechanical dimensions of the Master-D1 electronics.","title":"Dimensions"},{"location":"master-d1/#setup","text":"Datasheet","title":"Setup"},{"location":"receiver-d1/","text":"Receiver-D1 Description The Receiver-D1 is a digital low-noise, high sensitivity hydro acoustic receiver that converts acoustic waves to a digital data stream. The receiver is equipped with a wideband analog front-end width a large dynamic range followed by advanced digital signal processing functionality. The electrical interface complies with the Water Linked D1 communication standard. Benefits Extremely small footprint enabling easy integration in other equipment. Highly robust operation in areas with reflections (shallow water, around installations etc.) Wiring interface The tables below shows the pinning of the Receiver interface connectors. Dimensions Datasheet","title":"Receiver-D1"},{"location":"receiver-d1/#receiver-d1","text":"","title":"Receiver-D1"},{"location":"receiver-d1/#description","text":"The Receiver-D1 is a digital low-noise, high sensitivity hydro acoustic receiver that converts acoustic waves to a digital data stream. The receiver is equipped with a wideband analog front-end width a large dynamic range followed by advanced digital signal processing functionality. The electrical interface complies with the Water Linked D1 communication standard.","title":"Description"},{"location":"receiver-d1/#benefits","text":"Extremely small footprint enabling easy integration in other equipment. Highly robust operation in areas with reflections (shallow water, around installations etc.)","title":"Benefits"},{"location":"receiver-d1/#wiring-interface","text":"The tables below shows the pinning of the Receiver interface connectors.","title":"Wiring interface"},{"location":"receiver-d1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"sw-update/","text":"Software update To get the best performance of your Water Linked product it is recommended to always run the latest software. The update GUI can automatically check if a new software version is available. Products currently supported for updates: Product GUI Link DVL-A50 http://waterlinked-dvl:9000/ Underwater GPS G2 http://waterlinked-ugps:9000/ Underwater GPS Explorer Kit See Explorer Kit Software Update Automatic software update The easiest way of checking if a new version is available is to connect the product to the internet and let the upgrade GUI automatically check for a new version: Connect the Water Linked products ethernet to a network where the internet is available and make sure the products network configuration allows access to the internet. Go to http://[IP_ADDRESS]:9000. The update GUI will automatically check if there is a new version available and allow installation of new update with a single click. Offline software update If you are unable to connect your Water Linked product to the internet, offline software update is available. The process is: Find the current version and chipid in the the \"about\" section of the web gui. Manually download an update package (.wlup) from the update server using the chipid. Verify if the version downloaded is newer than the currently running version. Go to http://[IP_ADDRESS]:9000. Select \"manual upload\" and then upload the downloaded file.","title":"Software update"},{"location":"sw-update/#software-update","text":"To get the best performance of your Water Linked product it is recommended to always run the latest software. The update GUI can automatically check if a new software version is available. Products currently supported for updates: Product GUI Link DVL-A50 http://waterlinked-dvl:9000/ Underwater GPS G2 http://waterlinked-ugps:9000/ Underwater GPS Explorer Kit See Explorer Kit Software Update","title":"Software update"},{"location":"sw-update/#automatic-software-update","text":"The easiest way of checking if a new version is available is to connect the product to the internet and let the upgrade GUI automatically check for a new version: Connect the Water Linked products ethernet to a network where the internet is available and make sure the products network configuration allows access to the internet. Go to http://[IP_ADDRESS]:9000. The update GUI will automatically check if there is a new version available and allow installation of new update with a single click.","title":"Automatic software update"},{"location":"sw-update/#offline-software-update","text":"If you are unable to connect your Water Linked product to the internet, offline software update is available. The process is: Find the current version and chipid in the the \"about\" section of the web gui. Manually download an update package (.wlup) from the update server using the chipid. Verify if the version downloaded is newer than the currently running version. Go to http://[IP_ADDRESS]:9000. Select \"manual upload\" and then upload the downloaded file.","title":"Offline software update"},{"location":"tutorials/","text":"Tutorials Setting up for the first time Setting up on a boat","title":"Tutorials"},{"location":"tutorials/#tutorials","text":"","title":"Tutorials"},{"location":"tutorials/#setting-up-for-the-first-time","text":"","title":"Setting up for the first time"},{"location":"tutorials/#setting-up-on-a-boat","text":"","title":"Setting up on a boat"},{"location":"dvl/bluerov-integration/","text":"Introduction The Water Linked DVL-A50 is designed to integrate with most ROVs and AUVs through ethernet and/or a serial interface (UART). To minimize the time between a customer gets the DVL-A50 and to having it up and running on their hardware platform, the DVL-A50 is shipped with an attached IO interface providing ease of connectivity with power, ethernet and serial. However, for most ROVs and AUVs the DVL-A50 has to be integrated with the on-board electronics through a penetrator or a subsea connector. This guide details how the DVL-A50 can be integrated with the BlueROV2. Parts and tools What parts and tools needed depends on whether you intend to permanently attach the DVL-A50 to the BlueROV2, have it semi-permanently attached, or use a subsea connector for quick installation/removal. This guide details how to permanently attach the DVL-A50 to a BlueROV2. You will need DVL-A50 BlueROV2 Small ethernet switch. We recommend this one . Requires a 12V DC/DC converter such as this one . DVL-A50 Bracket . This is optional, but protects the DVL-A50 and allows for down to 0 cm minimum altitude. You will also need: Hex Key Set from Blue Robotics Penetrator Wrench from Blue Robotics M10 Cable Penetrator for 6mm Cable from Blue Robotics Potting compound (possible options in appendix A) (Optional) Potting kit from Blue Robotics Silicone grease 5 mm universal drill bit 2 x M5x12 mm stainless steel pan head screws (included with BlueROV2 mounting bracket) 4 x M3x4 mm stainless steel countersunk flat head screws (included with BlueROV2 mounting bracket) Soldering iron Solder wire Wire cutter Tweezers or nose pliers Solder wick and/or desoldering pump Utility knife Wire stripping tool Zip ties 4 x 30 cm (12\") wires (options discussed under Connect DVL-A50 and BlueROV2 ). If possible, use 2 x red and 2 x black wires. 2 x 6\" ethernet cables Preparation Seperate IO Interface from DVL-A50 The first thing you will have to do before going about any of the installation options is to cut the DVL-A50 cable, separating the IO Interface board. We recommend you do so near the end where the IO Interface board is to begin with. Warning The DVL-A50 cable is permanently attached and non-replacable inside the DVL-A50. If you cut the cable too short you will either have to splice the cable with another cable, or order a new DVL-A50. Measure twice, cut once! Attaching the BlueROV2 mounting bracket Attach the BlueROV2 mounting bracket to the DVL-A50 using the 4 x M3x6 screws provided with the DVL-A50 BlueROV2 Integration Kit. The BlueROV2 mounting bracket can be attached to the BlueROV2 in one of the 2 places indicated in the image below (standard BlueROV2). Note In this configuration the DVL-A50 is pointing backwards meaning both the x-direction and the y-direction are flipped. Multiplying the velocity data in x- and y-direction with -1 will flip coordinates back again to the same perspective frame of the BlueROV2. If your BlueROV2 has the Heavy Configuration upgrade, the BlueROV2 mounting bracket can be attached such that the DVL-A50 is within the BlueROV2 frame. This allows for a minimum working distance of 0 cm for the DVL-A50. Mark 2 hole positions on the BlueROV2 frame for attaching the BlueROV2 mounting bracket and drill through the frame using a 5 mm universal drill bit. Check that the BlueROV2 mounting bracket will attach properly to the BlueROV2 frame using 2 x M5x16 mm screws, but do not secure the bracket in place as more work is needed on the cable end. Final cable lenght With the DVL-A50 now attached to the BlueROV2 frame, find the appropriate cable length needed by leading the cable back to the penetrator end cap of the BlueROV2 and add the length of the electronics enclosure (30 cm) to the cable. This is the minimum required cable length. Note We recommend adding atleast another 30 cm to the cable to provide enough service loop in case the penetrator fails or the leads get damaged. Cut the cable to the final length. Installation The DVL-A50 will be permanently installed on the BlueROV2 with the IO Interface board (supplied with the DVL-A50). IO Interface preparation To prepare the IO Interface Board you will need: Soldering iron Wire cutter Tweezers or nose pliers Solder wick and/or desoldering pump Cut off the zip tie holding the cable onto the IO Interface board. Cut off the individual wires soldered onto the IO Interface board. Leave enough wire to grab onto with a tweezer or nose pliers. Desolder all the cut wires. Use solder wick and/or a desoldering pump to remove any excess solder from the now desoldered through hole pads. Warning Using too much force or heat may delaminate the IO Interface PCB, rendering the IO Interface board useless. Adding a penetrator To add a penetrator to the cable you will need: M10 Cable Penetrator for 6mm Cable from Blue Robotics Potting compound (possible options in appendix A) (Optional) Potting kit from Blue Robotics Utility knife Note The penetrator will be pottet using a potting compound. Most potting compounds need several hours or days to harden, so prepare a space where the potting can be left undisturbed for longer periods. Note also that working with potting compounds may get messy, so place old newspapers or some cardboard over the work area, and have single-use tissue nearby to clean any mess. Strip off 25-30 cm of the cable jacket using a utility knife or a sharp blade. Take care not to cut into the leads inside the cable. Blue Robotics has a great guide on cable stripping here . Feed the now exposed leads through the penetrator starting from the head, and continue feeding until the cable jacket is situated within the shoulder of the penetrator. With the threads of the penetrator pointing downwards and the cable pointing upwards, pour potting compound into the space between the cable and the penetrator. Fill with potting compound until it is flush with the top of the penetrator. Tip Use a clamping vice to hold the penetrator in place while pouring the potting compund. Let the potting compound harden before proceeding. Turn the penetrator upside downs and fill the gap between the leads with more potting compound. Let the potting compound fully cure before proceeding. Removing a blank penetrator To remove a blank penetrator from your BlueROV2, you will need the following tools: 2.5 mm hex driver Penetrator wrench To ensure your ROV is completely powered off, please remove the battery completely from the 3\u201d enclosure and place to the side. (Optional) Remove the fairings and buoyancy blocks by removing the self-tapping screws that hold the fairings to the frame. Remove the 4\u201d electronics enclosure from the ROV by removing the M3x16 screws that mount the enclosure to the ROV cradle. Remove the Vent Plug from the Vent Penetrator Bolt on the electronics enclosure. Remove the 4\u2033 tube and forward dome assembly from the rear end cap. Remove a blank penetrator, sush as the one pictured below, from the 4\u201d End Cap with the penetrator wrench. Install DVL-A50 penetrator To install DVL-A50 into the end cap, you will need the following parts and tools: DVL-A50 with installed cable penetrator Penetrator Nut (Black) (included in M10 Cable Penetrator for 6mm Cable from Blue Robotics) Penetrator O-ring (included in M10 Cable Penetrator for 6mm Cable from Blue Robotics) Silicone Grease Isopropyl Alcohol Wipe Penetrator wrench Wipe the exterior surface of the electronics enclosure end cap clean with isopropyl alcohol or isopropyl alcohol wipes, and make sure it is free of any particles in the areas where the penetrator O-ring will sit. Remove the O-ring from the bag and apply silicone grease to it. Install the O-ring onto the DVL-A50 cable penetrator. Install the DVL-A50 cable penetrator on to the end cap in the hole you previously removed the blank penetrator from. Tighten to finger tight, then use the penetrator wrench to tighten it an additional ~1/16 of a turn. If you can\u2019t loosen it with your fingers, it is tight enough. Tip Since the penetrator has to be screwed on, adding a bit of tape around the end of the wires helps them stay untangles while turning. Also twisting the DVL-A50 cable in a clock-wise direction will aid in screwing on the penetrator. Reinstall IO Interface Board To reinstall the IO Interface Board onto the DVL-A50 cable you will need: Wire stripping tool Soldering iron Solder wire Zip tie With the DVL-A50 penetrator now through the 4\" End Cap, strip off 2-3 mm of the ends of all the wires. Wire sizes are detailed in the table below. Warning The two wires of a twisted wire pair are fully colored and fully white (the table below shows the white wires having a stripe of the complemeting color, this is not the reality and only for reference). Keep track of which white wire is paired with which colored wire! Resolder the leads of the DVL-A50 cable to the IO Interface board following the table below: DVL-A50 cable IO Interface pad Function Diameter (mm) AWG# GND Power ground 0.6 mm 22 VIN Power in 0.6 mm 22 TD+ Ethernet TX+ 0.6 mm 22 TD- Ethernet TX- 0.4 mm 26 RD+ Ethernet RX+ 0.4 mm 26 RD- Ethernet RX- 0.4 mm 26 TX Serial UART TX 0.4 mm 26 RX Serial UART RX 0.4 mm 26 Zip tie the soldered wires to the IO Interface board to protect the solder joints. Connect to BlueROV2 To connect the DVL-A50 to the BlueROV2 you will need: 2 x 30 cm (12\") wires for power to the DVL-A50 2 x 30 cm (12\") wires for power to the ethernet switch 12V DC/DC converter 2 x 6\" ethernet cables Zip ties Both the DVL-A50 and the ethernet switch will require power. To provide power to the DVL-A50 you can either use (A) a 2-pin Molex MicroFit3.0 cable assembly , (B) solder on a W\u00fcrth screw terminal , or (C) directly solder on 2 wires to the power pads. Connect VIN to the positive Power Terminal Block inside the BlueROV2 by either stripping off 6-8 mm of the wire and screw it in place, or add a spade terminal for a # 6 screw (M3.5) and screw in place. Connect GND to the negative Power Terminal Block by either stripping off 6-8 mm of the wire and screw it in place, or add a spade terminal for a # 6 screw (M3.5) and screw in place. Warning The Power Terminal Blocks are unregulated and directly connected to the battery. Any short may generate several amps which will fry most circuits. Check that the wires are secured properly in both ends. Providing power to the ethernet switch is dependent on choosen ethernet switch. For the switch we recommend you will additionaly need a DC/DC converter to not exceed the 12V rating. The recommended switch comes with a JST-to-Barrel-plug cable assembly which is used in this guide: Cut off the wires near the barrel plug. Strip off 2-3 mm of the cut wire ends. Solder the red wire to the DC/DC converters OUTPUT. Strip off 2-3 mm on one end of both the 30 cm wires for power to the switch. Solder both the black wire from the cut and stripped JST-to-Barrel-plug cable assembly and one of the 30 cm wires to the DC/DC converters GND. Solder the remaining wire to the DC/DC converters INPUT. Connect the two 30 cm wires to the Power Terminal Blocks in the same fashion as with the DVL-A50 power. Connect JST header from the now modified JST-to-Barrel-plug cable assembly to the ethernet switch. With power now sorted, we will connect up the ethernet cables: Disconnect the ethernet cable attached to the Raspberry Pi comming from the Fathom-X Tether Interface Board. Connect the ethernet from the Fathom-X Tether Interface Board to the ethernet switch. Connect a 6\" ethernet cable from the Raspberry Pi to the ethernet switch. Connect a 6\" ethernet cable from the IO Interface Board to the ethernet switch. Tip Insulate exposed leads and components using electrical tape. Some thick double-sided sticky tape and zip ties can be used to secure the IO Interface, the ethernet switch, the DC/DC converter and wires to the electroncs frame inside the BlueROV2. Reasemble BlueROV2 electronics enclosure To reassemble your BlueROV2 Electronics Enclosure, you will need the following parts and tools: 4 x M3x16 screws that were placed off to the side during disassembly Silicone Grease 2.5 mm hex driver Reinstall 4\u201d Watertight Enclosure onto ROV with the following steps: Apply silicone grease to the two radial O-rings on the O-Ring Flange (4\u201d Series) that is attached to the Electronics Tray. Install the Watertight Enclosure (4\u201d Series) with installed Dome End Cap to the O-Ring Flange (4\u201d Series). Warning Use caution when sliding the 4\" Watertight Enclosure over the electronics as space may be tight (collides with electroncis) and wires can get trapped between the 4\" tube and the 4\" end cap. Mount the Electronics Enclosure to the frame using the M3x16 screws so that the dome is on the same side as the front center panels (the center panels without the 3 large holes). Install the M3x16 screws through the clips and into the Enclosure Cradle (4\u201d Series). It is easier to install these screws if the clips are not fully tightened until all screws are through the clips and threading into the Enclosure Cradle (4\u201d Series). This allows clips to rotate so you can find the threaded hole in the Enclosure Cradle (4\u201d Series) easily. Attach DVL-A50 to BlueROV2 Attach the DVL-A50 to the BlueROV2 using the 2 x M5x16 screws provided with the DVL-A50 BlueROV2 Integration Kit through the two holes you've made previously. Excess cable can be bundled together and attached to the BlueROV2 frame using zip ties. Software Integration of the DVL-A50 into ArduPilot Companion currently exists as a branch to the ArduPilot Companion Git repository: https://github.com/bluerobotics/companion/tree/dvl Follow these steps to use the DVL code: Go to the DVL GUI \"Configuration\" page. In \"Network configuration\" set \"Static IP\" with IP address 192.168.2.95 (subnet prefix 24, gateway: 192.168.2.1 dns 192.168.2.1). Click \"Apply\" and the power cycle the DVL. Start from Companion v0.0.22 (see https://bluerobotics.com/learn/bluerov2-software-setup/#update-software to check if you're using v0.0.22) Make sure the ROV is connected to the internet Navigate to http://192.168.2.2:2770/git Click \"origin\" -> \"branches\" -> \"dvl\" Click \"update\" Wait until the update is over and the Companion reboots Refresh the page and \"Water Linked\" should show up in the navbar","title":"BlueROV2 integration"},{"location":"dvl/bluerov-integration/#introduction","text":"The Water Linked DVL-A50 is designed to integrate with most ROVs and AUVs through ethernet and/or a serial interface (UART). To minimize the time between a customer gets the DVL-A50 and to having it up and running on their hardware platform, the DVL-A50 is shipped with an attached IO interface providing ease of connectivity with power, ethernet and serial. However, for most ROVs and AUVs the DVL-A50 has to be integrated with the on-board electronics through a penetrator or a subsea connector. This guide details how the DVL-A50 can be integrated with the BlueROV2.","title":"Introduction"},{"location":"dvl/bluerov-integration/#parts-and-tools","text":"What parts and tools needed depends on whether you intend to permanently attach the DVL-A50 to the BlueROV2, have it semi-permanently attached, or use a subsea connector for quick installation/removal. This guide details how to permanently attach the DVL-A50 to a BlueROV2.","title":"Parts and tools"},{"location":"dvl/bluerov-integration/#you-will-need","text":"DVL-A50 BlueROV2 Small ethernet switch. We recommend this one . Requires a 12V DC/DC converter such as this one . DVL-A50 Bracket . This is optional, but protects the DVL-A50 and allows for down to 0 cm minimum altitude. You will also need: Hex Key Set from Blue Robotics Penetrator Wrench from Blue Robotics M10 Cable Penetrator for 6mm Cable from Blue Robotics Potting compound (possible options in appendix A) (Optional) Potting kit from Blue Robotics Silicone grease 5 mm universal drill bit 2 x M5x12 mm stainless steel pan head screws (included with BlueROV2 mounting bracket) 4 x M3x4 mm stainless steel countersunk flat head screws (included with BlueROV2 mounting bracket) Soldering iron Solder wire Wire cutter Tweezers or nose pliers Solder wick and/or desoldering pump Utility knife Wire stripping tool Zip ties 4 x 30 cm (12\") wires (options discussed under Connect DVL-A50 and BlueROV2 ). If possible, use 2 x red and 2 x black wires. 2 x 6\" ethernet cables","title":"You will need"},{"location":"dvl/bluerov-integration/#preparation","text":"","title":"Preparation"},{"location":"dvl/bluerov-integration/#seperate-io-interface-from-dvl-a50","text":"The first thing you will have to do before going about any of the installation options is to cut the DVL-A50 cable, separating the IO Interface board. We recommend you do so near the end where the IO Interface board is to begin with. Warning The DVL-A50 cable is permanently attached and non-replacable inside the DVL-A50. If you cut the cable too short you will either have to splice the cable with another cable, or order a new DVL-A50. Measure twice, cut once!","title":"Seperate IO Interface from DVL-A50"},{"location":"dvl/bluerov-integration/#attaching-the-bluerov2-mounting-bracket","text":"Attach the BlueROV2 mounting bracket to the DVL-A50 using the 4 x M3x6 screws provided with the DVL-A50 BlueROV2 Integration Kit. The BlueROV2 mounting bracket can be attached to the BlueROV2 in one of the 2 places indicated in the image below (standard BlueROV2). Note In this configuration the DVL-A50 is pointing backwards meaning both the x-direction and the y-direction are flipped. Multiplying the velocity data in x- and y-direction with -1 will flip coordinates back again to the same perspective frame of the BlueROV2. If your BlueROV2 has the Heavy Configuration upgrade, the BlueROV2 mounting bracket can be attached such that the DVL-A50 is within the BlueROV2 frame. This allows for a minimum working distance of 0 cm for the DVL-A50. Mark 2 hole positions on the BlueROV2 frame for attaching the BlueROV2 mounting bracket and drill through the frame using a 5 mm universal drill bit. Check that the BlueROV2 mounting bracket will attach properly to the BlueROV2 frame using 2 x M5x16 mm screws, but do not secure the bracket in place as more work is needed on the cable end.","title":"Attaching the BlueROV2 mounting bracket"},{"location":"dvl/bluerov-integration/#final-cable-lenght","text":"With the DVL-A50 now attached to the BlueROV2 frame, find the appropriate cable length needed by leading the cable back to the penetrator end cap of the BlueROV2 and add the length of the electronics enclosure (30 cm) to the cable. This is the minimum required cable length. Note We recommend adding atleast another 30 cm to the cable to provide enough service loop in case the penetrator fails or the leads get damaged. Cut the cable to the final length.","title":"Final cable lenght"},{"location":"dvl/bluerov-integration/#installation","text":"The DVL-A50 will be permanently installed on the BlueROV2 with the IO Interface board (supplied with the DVL-A50).","title":"Installation"},{"location":"dvl/bluerov-integration/#io-interface-preparation","text":"To prepare the IO Interface Board you will need: Soldering iron Wire cutter Tweezers or nose pliers Solder wick and/or desoldering pump Cut off the zip tie holding the cable onto the IO Interface board. Cut off the individual wires soldered onto the IO Interface board. Leave enough wire to grab onto with a tweezer or nose pliers. Desolder all the cut wires. Use solder wick and/or a desoldering pump to remove any excess solder from the now desoldered through hole pads. Warning Using too much force or heat may delaminate the IO Interface PCB, rendering the IO Interface board useless.","title":"IO Interface preparation"},{"location":"dvl/bluerov-integration/#adding-a-penetrator","text":"To add a penetrator to the cable you will need: M10 Cable Penetrator for 6mm Cable from Blue Robotics Potting compound (possible options in appendix A) (Optional) Potting kit from Blue Robotics Utility knife Note The penetrator will be pottet using a potting compound. Most potting compounds need several hours or days to harden, so prepare a space where the potting can be left undisturbed for longer periods. Note also that working with potting compounds may get messy, so place old newspapers or some cardboard over the work area, and have single-use tissue nearby to clean any mess. Strip off 25-30 cm of the cable jacket using a utility knife or a sharp blade. Take care not to cut into the leads inside the cable. Blue Robotics has a great guide on cable stripping here . Feed the now exposed leads through the penetrator starting from the head, and continue feeding until the cable jacket is situated within the shoulder of the penetrator. With the threads of the penetrator pointing downwards and the cable pointing upwards, pour potting compound into the space between the cable and the penetrator. Fill with potting compound until it is flush with the top of the penetrator. Tip Use a clamping vice to hold the penetrator in place while pouring the potting compund. Let the potting compound harden before proceeding. Turn the penetrator upside downs and fill the gap between the leads with more potting compound. Let the potting compound fully cure before proceeding.","title":"Adding a penetrator"},{"location":"dvl/bluerov-integration/#removing-a-blank-penetrator","text":"To remove a blank penetrator from your BlueROV2, you will need the following tools: 2.5 mm hex driver Penetrator wrench To ensure your ROV is completely powered off, please remove the battery completely from the 3\u201d enclosure and place to the side. (Optional) Remove the fairings and buoyancy blocks by removing the self-tapping screws that hold the fairings to the frame. Remove the 4\u201d electronics enclosure from the ROV by removing the M3x16 screws that mount the enclosure to the ROV cradle. Remove the Vent Plug from the Vent Penetrator Bolt on the electronics enclosure. Remove the 4\u2033 tube and forward dome assembly from the rear end cap. Remove a blank penetrator, sush as the one pictured below, from the 4\u201d End Cap with the penetrator wrench.","title":"Removing a blank penetrator"},{"location":"dvl/bluerov-integration/#install-dvl-a50-penetrator","text":"To install DVL-A50 into the end cap, you will need the following parts and tools: DVL-A50 with installed cable penetrator Penetrator Nut (Black) (included in M10 Cable Penetrator for 6mm Cable from Blue Robotics) Penetrator O-ring (included in M10 Cable Penetrator for 6mm Cable from Blue Robotics) Silicone Grease Isopropyl Alcohol Wipe Penetrator wrench Wipe the exterior surface of the electronics enclosure end cap clean with isopropyl alcohol or isopropyl alcohol wipes, and make sure it is free of any particles in the areas where the penetrator O-ring will sit. Remove the O-ring from the bag and apply silicone grease to it. Install the O-ring onto the DVL-A50 cable penetrator. Install the DVL-A50 cable penetrator on to the end cap in the hole you previously removed the blank penetrator from. Tighten to finger tight, then use the penetrator wrench to tighten it an additional ~1/16 of a turn. If you can\u2019t loosen it with your fingers, it is tight enough. Tip Since the penetrator has to be screwed on, adding a bit of tape around the end of the wires helps them stay untangles while turning. Also twisting the DVL-A50 cable in a clock-wise direction will aid in screwing on the penetrator.","title":"Install DVL-A50 penetrator"},{"location":"dvl/bluerov-integration/#reinstall-io-interface-board","text":"To reinstall the IO Interface Board onto the DVL-A50 cable you will need: Wire stripping tool Soldering iron Solder wire Zip tie With the DVL-A50 penetrator now through the 4\" End Cap, strip off 2-3 mm of the ends of all the wires. Wire sizes are detailed in the table below. Warning The two wires of a twisted wire pair are fully colored and fully white (the table below shows the white wires having a stripe of the complemeting color, this is not the reality and only for reference). Keep track of which white wire is paired with which colored wire! Resolder the leads of the DVL-A50 cable to the IO Interface board following the table below: DVL-A50 cable IO Interface pad Function Diameter (mm) AWG# GND Power ground 0.6 mm 22 VIN Power in 0.6 mm 22 TD+ Ethernet TX+ 0.6 mm 22 TD- Ethernet TX- 0.4 mm 26 RD+ Ethernet RX+ 0.4 mm 26 RD- Ethernet RX- 0.4 mm 26 TX Serial UART TX 0.4 mm 26 RX Serial UART RX 0.4 mm 26 Zip tie the soldered wires to the IO Interface board to protect the solder joints.","title":"Reinstall IO Interface Board"},{"location":"dvl/bluerov-integration/#connect-to-bluerov2","text":"To connect the DVL-A50 to the BlueROV2 you will need: 2 x 30 cm (12\") wires for power to the DVL-A50 2 x 30 cm (12\") wires for power to the ethernet switch 12V DC/DC converter 2 x 6\" ethernet cables Zip ties Both the DVL-A50 and the ethernet switch will require power. To provide power to the DVL-A50 you can either use (A) a 2-pin Molex MicroFit3.0 cable assembly , (B) solder on a W\u00fcrth screw terminal , or (C) directly solder on 2 wires to the power pads. Connect VIN to the positive Power Terminal Block inside the BlueROV2 by either stripping off 6-8 mm of the wire and screw it in place, or add a spade terminal for a # 6 screw (M3.5) and screw in place. Connect GND to the negative Power Terminal Block by either stripping off 6-8 mm of the wire and screw it in place, or add a spade terminal for a # 6 screw (M3.5) and screw in place. Warning The Power Terminal Blocks are unregulated and directly connected to the battery. Any short may generate several amps which will fry most circuits. Check that the wires are secured properly in both ends. Providing power to the ethernet switch is dependent on choosen ethernet switch. For the switch we recommend you will additionaly need a DC/DC converter to not exceed the 12V rating. The recommended switch comes with a JST-to-Barrel-plug cable assembly which is used in this guide: Cut off the wires near the barrel plug. Strip off 2-3 mm of the cut wire ends. Solder the red wire to the DC/DC converters OUTPUT. Strip off 2-3 mm on one end of both the 30 cm wires for power to the switch. Solder both the black wire from the cut and stripped JST-to-Barrel-plug cable assembly and one of the 30 cm wires to the DC/DC converters GND. Solder the remaining wire to the DC/DC converters INPUT. Connect the two 30 cm wires to the Power Terminal Blocks in the same fashion as with the DVL-A50 power. Connect JST header from the now modified JST-to-Barrel-plug cable assembly to the ethernet switch. With power now sorted, we will connect up the ethernet cables: Disconnect the ethernet cable attached to the Raspberry Pi comming from the Fathom-X Tether Interface Board. Connect the ethernet from the Fathom-X Tether Interface Board to the ethernet switch. Connect a 6\" ethernet cable from the Raspberry Pi to the ethernet switch. Connect a 6\" ethernet cable from the IO Interface Board to the ethernet switch. Tip Insulate exposed leads and components using electrical tape. Some thick double-sided sticky tape and zip ties can be used to secure the IO Interface, the ethernet switch, the DC/DC converter and wires to the electroncs frame inside the BlueROV2.","title":"Connect to BlueROV2"},{"location":"dvl/bluerov-integration/#reasemble-bluerov2-electronics-enclosure","text":"To reassemble your BlueROV2 Electronics Enclosure, you will need the following parts and tools: 4 x M3x16 screws that were placed off to the side during disassembly Silicone Grease 2.5 mm hex driver Reinstall 4\u201d Watertight Enclosure onto ROV with the following steps: Apply silicone grease to the two radial O-rings on the O-Ring Flange (4\u201d Series) that is attached to the Electronics Tray. Install the Watertight Enclosure (4\u201d Series) with installed Dome End Cap to the O-Ring Flange (4\u201d Series). Warning Use caution when sliding the 4\" Watertight Enclosure over the electronics as space may be tight (collides with electroncis) and wires can get trapped between the 4\" tube and the 4\" end cap. Mount the Electronics Enclosure to the frame using the M3x16 screws so that the dome is on the same side as the front center panels (the center panels without the 3 large holes). Install the M3x16 screws through the clips and into the Enclosure Cradle (4\u201d Series). It is easier to install these screws if the clips are not fully tightened until all screws are through the clips and threading into the Enclosure Cradle (4\u201d Series). This allows clips to rotate so you can find the threaded hole in the Enclosure Cradle (4\u201d Series) easily.","title":"Reasemble BlueROV2 electronics enclosure"},{"location":"dvl/bluerov-integration/#attach-dvl-a50-to-bluerov2","text":"Attach the DVL-A50 to the BlueROV2 using the 2 x M5x16 screws provided with the DVL-A50 BlueROV2 Integration Kit through the two holes you've made previously. Excess cable can be bundled together and attached to the BlueROV2 frame using zip ties.","title":"Attach DVL-A50 to BlueROV2"},{"location":"dvl/bluerov-integration/#software","text":"Integration of the DVL-A50 into ArduPilot Companion currently exists as a branch to the ArduPilot Companion Git repository: https://github.com/bluerobotics/companion/tree/dvl Follow these steps to use the DVL code: Go to the DVL GUI \"Configuration\" page. In \"Network configuration\" set \"Static IP\" with IP address 192.168.2.95 (subnet prefix 24, gateway: 192.168.2.1 dns 192.168.2.1). Click \"Apply\" and the power cycle the DVL. Start from Companion v0.0.22 (see https://bluerobotics.com/learn/bluerov2-software-setup/#update-software to check if you're using v0.0.22) Make sure the ROV is connected to the internet Navigate to http://192.168.2.2:2770/git Click \"origin\" -> \"branches\" -> \"dvl\" Click \"update\" Wait until the update is over and the Companion reboots Refresh the page and \"Water Linked\" should show up in the navbar","title":"Software"},{"location":"dvl/dvl-a125-details/","text":"DVL-A125 details Axis conventions The axis on the DVL-A125 are oriented North-East-Down (NED) X axis is pointing forward (LED is forward, cable backward) Y axis is pointing right Z axis is pointing down (mounting holes are up, transducers are down) Transducer numbering Transducer beam width Half-power beam width is 4.3\u00b0 Line of sight Ethernet Interface The DVL has a few services available on ethernet: Multicast DNS (mDNS) for easy discovery Web gui for easy setup and diagnostic TCP low latency velocity updates Updater for software upgrades Multicast DNS (mDNS) Factory default for the DVL is to operate a DHCP client. This means it will attempt to obtain an IP address from a DHCP server on the same network. For convenience the DVL supports mDNS to easily discover the assigned IP address. The mDNS name used for the DVL is: waterlinked-dvl . Note If no DHCP server is available on the network, it is recommended to configure a static ip address as the DVL can use up to 5 minutes searching for a DHCP server. Web GUI On operating systems supporting mDNS you can open the web GUI via the following URL: http://waterlinked-dvl . If mDNS is not supported you need to obtain the IP address of the DVL and use that in your browser (http://IP_ADDRESS). The web GUI shows the status of the DVL (velocity and altitude) as well as diagnostic information. The web GUI also allows for network configuration. Network configuration The DVL has two IP configuration options though the web GUI: DCHP client, where it obtains an IP address from a DHCP server on the same network. Static mode where the user sets the wanted IP address for the DVL. Once the IP configuration is modified the DVL needs to be rebooted for the settings take effect. Note The boot time, i.e. the time it takes from the DVL receives power until it starts operating normally, will vary based on the network configuration. Using the fallback IP , the boot time can be as much as 1 min 30 sec. The lowest observed boot time is 20 sec with static IP. TCP Output The DVL supports sending measurements updates using the Transmission Control Protocol (TCP). A TCP server is available on port 16171 which outputs the latest measurements to all the connected clients. In the web GUI you can see the number of connected clients and the format of the output message. See description of the output protocol . Software update To get the best performance of the DVL it is recommended to always run the latest software. The update GUI can automatically check if a new software version is available. Automatic software update The easiest way of checking if a new version is available is to connect the DVL to the internet and let the upgrade GUI automatically check for a new version: Connect the DVL ethernet to a network where the internet is available and make sure the DVL network configuration allows access to the internet. Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. The upgrade GUI will automatically check if there is a new version available and allow installation of new upgrade with a single click. Offline software update If you are unable to connect the DVL to the internet, offline software update is available. The process is: Find the current version and chipid in the the \"about\" section of the DVL web gui Manually download an upgrade package (.wlup) from the update server using the chipid. Verify if the version downloaded is newer than the currently running version Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. Select \"manual upload\" and then upload the downloaded file. Fallback IP For convenience the DVL will always be available with the static IP address: 192.168.194.95 . To be able to connect to the DVL using the fallback IP address perform following steps: Connect a ethernet cable directly from the DVL to your computer. Set static IP on your computer to be 192.168.194.90 In a web browser open http://192.168.194.95","title":"DVL-A125 details"},{"location":"dvl/dvl-a125-details/#dvl-a125-details","text":"","title":"DVL-A125 details"},{"location":"dvl/dvl-a125-details/#axis-conventions","text":"The axis on the DVL-A125 are oriented North-East-Down (NED) X axis is pointing forward (LED is forward, cable backward) Y axis is pointing right Z axis is pointing down (mounting holes are up, transducers are down)","title":"Axis conventions"},{"location":"dvl/dvl-a125-details/#transducer-numbering","text":"","title":"Transducer numbering"},{"location":"dvl/dvl-a125-details/#transducer-beam-width","text":"Half-power beam width is 4.3\u00b0","title":"Transducer beam width"},{"location":"dvl/dvl-a125-details/#line-of-sight","text":"","title":"Line of sight"},{"location":"dvl/dvl-a125-details/#ethernet-interface","text":"The DVL has a few services available on ethernet: Multicast DNS (mDNS) for easy discovery Web gui for easy setup and diagnostic TCP low latency velocity updates Updater for software upgrades","title":"Ethernet Interface"},{"location":"dvl/dvl-a125-details/#multicast-dns-mdns","text":"Factory default for the DVL is to operate a DHCP client. This means it will attempt to obtain an IP address from a DHCP server on the same network. For convenience the DVL supports mDNS to easily discover the assigned IP address. The mDNS name used for the DVL is: waterlinked-dvl . Note If no DHCP server is available on the network, it is recommended to configure a static ip address as the DVL can use up to 5 minutes searching for a DHCP server.","title":"Multicast DNS (mDNS)"},{"location":"dvl/dvl-a125-details/#web-gui","text":"On operating systems supporting mDNS you can open the web GUI via the following URL: http://waterlinked-dvl . If mDNS is not supported you need to obtain the IP address of the DVL and use that in your browser (http://IP_ADDRESS). The web GUI shows the status of the DVL (velocity and altitude) as well as diagnostic information. The web GUI also allows for network configuration.","title":"Web GUI"},{"location":"dvl/dvl-a125-details/#network-configuration","text":"The DVL has two IP configuration options though the web GUI: DCHP client, where it obtains an IP address from a DHCP server on the same network. Static mode where the user sets the wanted IP address for the DVL. Once the IP configuration is modified the DVL needs to be rebooted for the settings take effect. Note The boot time, i.e. the time it takes from the DVL receives power until it starts operating normally, will vary based on the network configuration. Using the fallback IP , the boot time can be as much as 1 min 30 sec. The lowest observed boot time is 20 sec with static IP.","title":"Network configuration"},{"location":"dvl/dvl-a125-details/#tcp-output","text":"The DVL supports sending measurements updates using the Transmission Control Protocol (TCP). A TCP server is available on port 16171 which outputs the latest measurements to all the connected clients. In the web GUI you can see the number of connected clients and the format of the output message. See description of the output protocol .","title":"TCP Output"},{"location":"dvl/dvl-a125-details/#software-update","text":"To get the best performance of the DVL it is recommended to always run the latest software. The update GUI can automatically check if a new software version is available.","title":"Software update"},{"location":"dvl/dvl-a125-details/#automatic-software-update","text":"The easiest way of checking if a new version is available is to connect the DVL to the internet and let the upgrade GUI automatically check for a new version: Connect the DVL ethernet to a network where the internet is available and make sure the DVL network configuration allows access to the internet. Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. The upgrade GUI will automatically check if there is a new version available and allow installation of new upgrade with a single click.","title":"Automatic software update"},{"location":"dvl/dvl-a125-details/#offline-software-update","text":"If you are unable to connect the DVL to the internet, offline software update is available. The process is: Find the current version and chipid in the the \"about\" section of the DVL web gui Manually download an upgrade package (.wlup) from the update server using the chipid. Verify if the version downloaded is newer than the currently running version Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. Select \"manual upload\" and then upload the downloaded file.","title":"Offline software update"},{"location":"dvl/dvl-a125-details/#fallback-ip","text":"For convenience the DVL will always be available with the static IP address: 192.168.194.95 . To be able to connect to the DVL using the fallback IP address perform following steps: Connect a ethernet cable directly from the DVL to your computer. Set static IP on your computer to be 192.168.194.90 In a web browser open http://192.168.194.95","title":"Fallback IP"},{"location":"dvl/dvl-a125/","text":"DVL-A125 Description The DVL-A125 is the next step up from the DVL-A50, providing even better performance at greater distances while still keeping a small form factor relative to competing DVLs. The DVL-A125 builds on the already impressive feats of the DVL-A50 with its increased performance, small 4 beam setup, open interface protocol and mid-to-low cost. The DVL estimates velocity relative to the sea bottom by sending acoustic waves from the four angled transducers and then measure the frequency shift (doppler effect) from the received echo. By combining the measurements of all four transducers and the time between each acoustic pulse, it is possible to very accurately estimate the speed and direction of movement. Key specifications 0.05 - 125 meter range 420 MHz transducer frequency 1-26 Hz ping rate (altitude dependent) 4 m/s max velocity \u00b1 0.1 cm/s long term accuracy 3000 meter depth rating 10-30 V input voltage (reversed-polarity protection) Ethernet and UART Note The DVL-A125 uses a constant speed of sound equal to 1500 m/s (Release 1.5.1). This is configurable for the Performance edition. Tip Keep the DVL-A125 in a bucket of water to ensure sufficient cooling when doing development with the DVL. LED Signals No green light: Power is off. Flashing green light (slow): DVL loocking for bottom lock. Fixed green light: DVL has bottom lock. The LED is mostly on and blinks quickly to show we are alive. Wiring interface The tables below shows the pinning of the DVL-A125 interface. Interface Color Positive (10-30V) Red Negative/Ground Black ETH TX+ Orange/White ETH TX- Orange ETH RX+ Green/White ETH RX- Green UART TX Brown/White UART RX Brown Terminal Interface The DVL-A125 has a 3.3 volt UART interface (5V tolerant). Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None Description of the serial protocol . Ethernet Interface Description of the ethernet services . Dimensions Mounting Holes Other details See details for description of axis conventions, transducer numbering and other details. Datasheet Datasheet","title":"DVL-A125"},{"location":"dvl/dvl-a125/#dvl-a125","text":"","title":"DVL-A125"},{"location":"dvl/dvl-a125/#description","text":"The DVL-A125 is the next step up from the DVL-A50, providing even better performance at greater distances while still keeping a small form factor relative to competing DVLs. The DVL-A125 builds on the already impressive feats of the DVL-A50 with its increased performance, small 4 beam setup, open interface protocol and mid-to-low cost. The DVL estimates velocity relative to the sea bottom by sending acoustic waves from the four angled transducers and then measure the frequency shift (doppler effect) from the received echo. By combining the measurements of all four transducers and the time between each acoustic pulse, it is possible to very accurately estimate the speed and direction of movement.","title":"Description"},{"location":"dvl/dvl-a125/#key-specifications","text":"0.05 - 125 meter range 420 MHz transducer frequency 1-26 Hz ping rate (altitude dependent) 4 m/s max velocity \u00b1 0.1 cm/s long term accuracy 3000 meter depth rating 10-30 V input voltage (reversed-polarity protection) Ethernet and UART Note The DVL-A125 uses a constant speed of sound equal to 1500 m/s (Release 1.5.1). This is configurable for the Performance edition. Tip Keep the DVL-A125 in a bucket of water to ensure sufficient cooling when doing development with the DVL.","title":"Key specifications"},{"location":"dvl/dvl-a125/#led-signals","text":"No green light: Power is off. Flashing green light (slow): DVL loocking for bottom lock. Fixed green light: DVL has bottom lock. The LED is mostly on and blinks quickly to show we are alive.","title":"LED Signals"},{"location":"dvl/dvl-a125/#wiring-interface","text":"The tables below shows the pinning of the DVL-A125 interface. Interface Color Positive (10-30V) Red Negative/Ground Black ETH TX+ Orange/White ETH TX- Orange ETH RX+ Green/White ETH RX- Green UART TX Brown/White UART RX Brown","title":"Wiring interface"},{"location":"dvl/dvl-a125/#terminal-interface","text":"The DVL-A125 has a 3.3 volt UART interface (5V tolerant). Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None Description of the serial protocol .","title":"Terminal Interface"},{"location":"dvl/dvl-a125/#ethernet-interface","text":"Description of the ethernet services .","title":"Ethernet Interface"},{"location":"dvl/dvl-a125/#dimensions","text":"","title":"Dimensions"},{"location":"dvl/dvl-a125/#mounting-holes","text":"","title":"Mounting Holes"},{"location":"dvl/dvl-a125/#other-details","text":"See details for description of axis conventions, transducer numbering and other details.","title":"Other details"},{"location":"dvl/dvl-a125/#datasheet","text":"Datasheet","title":"Datasheet"},{"location":"dvl/dvl-a50-details/","text":"DVL-A50 details Axis conventions The axis on the DVL-A50 are oriented North-East-Down (NED) X axis is pointing forward (LED is forward, cable backward) Y axis is pointing right Z axis is pointing down (mounting holes are up, transducers are down) Transducer numbering Transducer beam width Half-power beam width is 4.4\u00b0 Line of sight Ethernet Interface The DVL has a few services available on ethernet: Multicast DNS (mDNS) for easy discovery Web gui for easy setup and diagnostic TCP low latency velocity updates Updater for software upgrades Multicast DNS (mDNS) Factory default for the DVL is to operate a DHCP client. This means it will attempt to obtain an IP address from a DHCP server on the same network. For convenience the DVL supports mDNS to easily discover the assigned IP address. The mDNS name used for the DVL is: waterlinked-dvl . Note If no DHCP server is available on the network, it is recommended to configure a static ip address as the DVL can use up to 5 minutes searching for a DHCP server. Web GUI On operating systems supporting mDNS you can open the web GUI via the following URL: http://waterlinked-dvl . If mDNS is not supported you need to obtain the IP address of the DVL and use that in your browser (http://IP_ADDRESS). The web GUI shows the status of the DVL (velocity and altitude) as well as diagnostic information. The web GUI also allows for network configuration. Network configuration The DVL has two IP configuration options though the web GUI: DCHP client, where it obtains an IP address from a DHCP server on the same network. Static mode where the user sets the wanted IP address for the DVL. Once the IP configuration is modified the DVL needs to be rebooted for the settings take effect. Note The boot time, i.e. the time it takes from the DVL receives power until it starts operating normally, will vary based on the network configuration. Using the fallback IP , the boot time can be as much as 1 min 30 sec. The lowest observed boot time is 20 sec with static IP. TCP Output The DVL supports sending measurements updates using the Transmission Control Protocol (TCP). A TCP server is available on port 16171 which outputs the latest measurements to all the connected clients. In the web GUI you can see the number of connected clients and the format of the output message. See description of the output protocol . Software update To get the best performance of the DVL it is recommended to always run the latest software. The update GUI can automatically check if a new software version is available. Automatic software update The easiest way of checking if a new version is available is to connect the DVL to the internet and let the upgrade GUI automatically check for a new version: Connect the DVL ethernet to a network where the internet is available and make sure the DVL network configuration allows access to the internet. Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. The upgrade GUI will automatically check if there is a new version available and allow installation of new upgrade with a single click. Offline software update If you are unable to connect the DVL to the internet, offline software update is available. The process is: Find the current version and chipid in the the \"about\" section of the DVL web gui Manually download an upgrade package (.wlup) from the update server using the chipid. Verify if the version downloaded is newer than the currently running version Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. Select \"manual upload\" and then upload the downloaded file. Fallback IP For convenience the DVL will always be available with the static IP address: 192.168.194.95 . To be able to connect to the DVL using the fallback IP address perform following steps: Connect a ethernet cable directly from the DVL to your computer. Set static IP on your computer to be 192.168.194.90 In a web browser open http://192.168.194.95","title":"Details"},{"location":"dvl/dvl-a50-details/#dvl-a50-details","text":"","title":"DVL-A50 details"},{"location":"dvl/dvl-a50-details/#axis-conventions","text":"The axis on the DVL-A50 are oriented North-East-Down (NED) X axis is pointing forward (LED is forward, cable backward) Y axis is pointing right Z axis is pointing down (mounting holes are up, transducers are down)","title":"Axis conventions"},{"location":"dvl/dvl-a50-details/#transducer-numbering","text":"","title":"Transducer numbering"},{"location":"dvl/dvl-a50-details/#transducer-beam-width","text":"Half-power beam width is 4.4\u00b0","title":"Transducer beam width"},{"location":"dvl/dvl-a50-details/#line-of-sight","text":"","title":"Line of sight"},{"location":"dvl/dvl-a50-details/#ethernet-interface","text":"The DVL has a few services available on ethernet: Multicast DNS (mDNS) for easy discovery Web gui for easy setup and diagnostic TCP low latency velocity updates Updater for software upgrades","title":"Ethernet Interface"},{"location":"dvl/dvl-a50-details/#multicast-dns-mdns","text":"Factory default for the DVL is to operate a DHCP client. This means it will attempt to obtain an IP address from a DHCP server on the same network. For convenience the DVL supports mDNS to easily discover the assigned IP address. The mDNS name used for the DVL is: waterlinked-dvl . Note If no DHCP server is available on the network, it is recommended to configure a static ip address as the DVL can use up to 5 minutes searching for a DHCP server.","title":"Multicast DNS (mDNS)"},{"location":"dvl/dvl-a50-details/#web-gui","text":"On operating systems supporting mDNS you can open the web GUI via the following URL: http://waterlinked-dvl . If mDNS is not supported you need to obtain the IP address of the DVL and use that in your browser (http://IP_ADDRESS). The web GUI shows the status of the DVL (velocity and altitude) as well as diagnostic information. The web GUI also allows for network configuration.","title":"Web GUI"},{"location":"dvl/dvl-a50-details/#network-configuration","text":"The DVL has two IP configuration options though the web GUI: DCHP client, where it obtains an IP address from a DHCP server on the same network. Static mode where the user sets the wanted IP address for the DVL. Once the IP configuration is modified the DVL needs to be rebooted for the settings take effect. Note The boot time, i.e. the time it takes from the DVL receives power until it starts operating normally, will vary based on the network configuration. Using the fallback IP , the boot time can be as much as 1 min 30 sec. The lowest observed boot time is 20 sec with static IP.","title":"Network configuration"},{"location":"dvl/dvl-a50-details/#tcp-output","text":"The DVL supports sending measurements updates using the Transmission Control Protocol (TCP). A TCP server is available on port 16171 which outputs the latest measurements to all the connected clients. In the web GUI you can see the number of connected clients and the format of the output message. See description of the output protocol .","title":"TCP Output"},{"location":"dvl/dvl-a50-details/#software-update","text":"To get the best performance of the DVL it is recommended to always run the latest software. The update GUI can automatically check if a new software version is available.","title":"Software update"},{"location":"dvl/dvl-a50-details/#automatic-software-update","text":"The easiest way of checking if a new version is available is to connect the DVL to the internet and let the upgrade GUI automatically check for a new version: Connect the DVL ethernet to a network where the internet is available and make sure the DVL network configuration allows access to the internet. Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. The upgrade GUI will automatically check if there is a new version available and allow installation of new upgrade with a single click.","title":"Automatic software update"},{"location":"dvl/dvl-a50-details/#offline-software-update","text":"If you are unable to connect the DVL to the internet, offline software update is available. The process is: Find the current version and chipid in the the \"about\" section of the DVL web gui Manually download an upgrade package (.wlup) from the update server using the chipid. Verify if the version downloaded is newer than the currently running version Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. Select \"manual upload\" and then upload the downloaded file.","title":"Offline software update"},{"location":"dvl/dvl-a50-details/#fallback-ip","text":"For convenience the DVL will always be available with the static IP address: 192.168.194.95 . To be able to connect to the DVL using the fallback IP address perform following steps: Connect a ethernet cable directly from the DVL to your computer. Set static IP on your computer to be 192.168.194.90 In a web browser open http://192.168.194.95","title":"Fallback IP"},{"location":"dvl/dvl-a50/","text":"DVL-A50 Description The DVL-A50 is \u2013 by far \u2013 the world\u2019s smallest commercially available Doppler Velocity Log. The A50 is establishing a new market standard with its high performance, ultra-small 4 beam setup, open interface protocol and low cost. The DVL estimates velocity relative to the sea bottom by sending acoustic waves from the four angled transducers and then measure the frequency shift (doppler effect) from the received echo. By combining the measurements of all four transducers and the time between each acoustic pulse, it is possible to very accurately estimate the speed and direction of movement. Key specifications 0.05 - 50 meter range 1 MHz transducer frequency 4-26 Hz ping rate (altitude dependent) 2 m/s max velocity \u00b1 0.1 cm/s long term accuracy 1000 meter depth rating 10-30 V input voltage (reversed-polarity protection) Ethernet and UART Note The DVL-A50 uses a constant speed of sound equal to 1500 m/s (Release 1.3.1). This is configurable for the Performace edition. Tip Keep the DVL-A50 in a bucket of water to ensure sufficient cooling when doing development with the DVL. LED Signals No green light: Power is off. Flashing green light (slow): DVL loocking for bottom lock. Fixed green light: DVL has bottom lock. The LED is mostly on and blinks quickly to show we are alive. Wiring interface The tables below shows the pinning of the DVL-A50 interface. Interface Color Positive (10-30V) Red Negative/Ground Black ETH TX+ Orange/White ETH TX- Orange ETH RX+ Green/White ETH RX- Green UART TX Brown/White UART RX Brown Terminal Interface The DVL-A50 has a 3.3 volt UART interface (5V tolerant). Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None Description of the serial protocol . Ethernet Interface Description of the ethernet services . Dimensions Mounting Holes Other details See details for description of axis conventions, transducer numbering and other details. Datasheet Datasheet","title":"Introduction"},{"location":"dvl/dvl-a50/#dvl-a50","text":"","title":"DVL-A50"},{"location":"dvl/dvl-a50/#description","text":"The DVL-A50 is \u2013 by far \u2013 the world\u2019s smallest commercially available Doppler Velocity Log. The A50 is establishing a new market standard with its high performance, ultra-small 4 beam setup, open interface protocol and low cost. The DVL estimates velocity relative to the sea bottom by sending acoustic waves from the four angled transducers and then measure the frequency shift (doppler effect) from the received echo. By combining the measurements of all four transducers and the time between each acoustic pulse, it is possible to very accurately estimate the speed and direction of movement.","title":"Description"},{"location":"dvl/dvl-a50/#key-specifications","text":"0.05 - 50 meter range 1 MHz transducer frequency 4-26 Hz ping rate (altitude dependent) 2 m/s max velocity \u00b1 0.1 cm/s long term accuracy 1000 meter depth rating 10-30 V input voltage (reversed-polarity protection) Ethernet and UART Note The DVL-A50 uses a constant speed of sound equal to 1500 m/s (Release 1.3.1). This is configurable for the Performace edition. Tip Keep the DVL-A50 in a bucket of water to ensure sufficient cooling when doing development with the DVL.","title":"Key specifications"},{"location":"dvl/dvl-a50/#led-signals","text":"No green light: Power is off. Flashing green light (slow): DVL loocking for bottom lock. Fixed green light: DVL has bottom lock. The LED is mostly on and blinks quickly to show we are alive.","title":"LED Signals"},{"location":"dvl/dvl-a50/#wiring-interface","text":"The tables below shows the pinning of the DVL-A50 interface. Interface Color Positive (10-30V) Red Negative/Ground Black ETH TX+ Orange/White ETH TX- Orange ETH RX+ Green/White ETH RX- Green UART TX Brown/White UART RX Brown","title":"Wiring interface"},{"location":"dvl/dvl-a50/#terminal-interface","text":"The DVL-A50 has a 3.3 volt UART interface (5V tolerant). Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None Description of the serial protocol .","title":"Terminal Interface"},{"location":"dvl/dvl-a50/#ethernet-interface","text":"Description of the ethernet services .","title":"Ethernet Interface"},{"location":"dvl/dvl-a50/#dimensions","text":"","title":"Dimensions"},{"location":"dvl/dvl-a50/#mounting-holes","text":"","title":"Mounting Holes"},{"location":"dvl/dvl-a50/#other-details","text":"See details for description of axis conventions, transducer numbering and other details.","title":"Other details"},{"location":"dvl/dvl-a50/#datasheet","text":"Datasheet","title":"Datasheet"},{"location":"dvl/dvl-protocol/","text":"Water Linked DVL protocol This document describes the Water Linked DVL protocols (serial and ethernet). Terminology DVL - Doppler Velocity Log - Hydro-acoustic unit which uses acoustic beams to measure distance to bottom surface and the velocity which the unit is moving across the surface. ACK - Acknowledgement. The command issued was successful. NAK - Negative acknowledgement. The command issued failed. Version This document describes protocol version 2.0.x (major.minor.patch) The protocol versioning follows semantic versioning in that: MAJOR version increments represent incompatible API changes MINOR version increments represent added functionality in a backwards-compatible manner PATCH version increments represent backwards-compatible bug fixes Serial Protocol Overview The serial communication format is 115200 8-N-1 (no hardware flow control). Packets sent to and received from the DVL start with a w and end with LF or CR+LF. The packet format is: Start byte Direction Command Options (0 to many) Checksum End byte w c or r x ,[option] *xx \\n or \\r\\n Direction is command ( c ) for commands issued to the DVL and the DVL replies with direction set to response ( r ). The commands can be sent as a string or entered one char at a time from a terminal. The protocol can support Water Linked DVLs with different feature sets. To support any Water Linked DVL the connection procedure is to: Get protocol version. Verify that the major version number is 2. Get product detail. Verify product type is dvl. Note Checksum is optional when sending commands to the DVL. The DVL always returns a checksum. The checksum algorithm is CRC-8 and it is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ). Commands Commands in the table are shown without the checksum for readability. Command Description Response Description wcv Get protocol version wrv, [major],[minor],[patch] Protocol version. eg: wrv,2.1.0 wcw Get product detail wrw, [name] , [version] , [chipID] , [IP address] Where type is dvl, name is product name, version is software version, chip ID is the chip ID and optionally the IP address if connected to DHCP server: eg: wrw,dvl-a50,1.4.0,0xfedcba98765432 or wrw,dvl-a50,1.4.0,0xfedcba98765432,10.11.12.140 wrx, [details below] Velocities measured. See details below wr? Malformed request: Response when packet cannot be understood wr! Malformed request: Packet does not match the given checksum Velocity report Velocity report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude and will be in the range is from 2-26 Hz. The X, Y, Z axis are oriented according to the marking on the DVL. The velocities measured response is on the following format: wrx, [time],[vx],[vy],[vz],[fom],[altitude],[valid],[status] Variable Description time Milliseconds since last velocity report (ms) vx Measured velocity in x direction (m/s) vy Measured velocity in y direction (m/s) vz Measured velocity in z direction (m/s) fom Figure of merit, a measure of the accuracy of the measured velocities (m/s) altitude Measured altitude to the bottom (m) valid If valid is \"y\" the DVL has lock on the bottom and the altitude and velocities are valid (y/n) status 0 for normal operation, 1 for high temperature warning Example where velocities are valid: wrx,112.83,0.007,0.017,0.006,0.000,0.93,y,0*d2 wrx,140.43,0.008,0.021,0.012,0.000,0.92,y,0*b7 wrx,118.47,0.009,0.020,0.013,0.000,0.92,y,0*54 Example where velocity and altitude is not valid and high temperature warning is given: wrx,1075.51,0.000,0.000,0.000,2.707,-1.00,n,1*04 wrx,1249.29,0.000,0.000,0.000,2.707,-1.00,n,1*6a wrx,1164.94,0.000,0.000,0.000,2.707,-1.00,n,1*39 Transducer report Transducer report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude and will be in the range is from 2-26 Hz. The distances measured form each transducer is on the following format: wrt, [dist_1],[dist_2],[dist_3],[dist_4] Variable Description dist_1 Measured distance to bottom from trancduser 1 (m) dist_2 Measured distance to bottom from trancduser 2 (m) dist_3 Measured distance to bottom from trancduser 3 (m) dist_4 Measured distance to bottom from trancduser 4 (m) Example where velocities are valid: wrt,15.00,15.20,14.90,14.20*b1 wrt,14.90,15.10,14.80,14.10*ac Example where distance is not valid on transducer 4: wrt,14.90,15.10,14.80,-1.00*53 wrt,15.00,15.20,14.90,-1.00*71 Checksum The checksum algorithm is CRC-8 (Polynomal: 0x07, Init: 0x00, RefIn/RefOut: false, XorOut: 0x00, Check: 0xf4). Checksum is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ). Compatible implementations: Python 3: crcmod crcmod.predefined.mkPredefinedCrcFun(\"crc-8\") Golang: github.com/sigurn/crc8 crc8.MakeTable(crc8.CRC8) Example for how to verify checksum using Python 3 and crcmod : crc = crcmod.predefined.mkPredefinedCrcFun(\"crc-8\") sentence = b\"wrx,1164.94,0.000,0.000,0.000,2.707,-1.00,n,1*39\" data, checksum = sentence.split(b\"*\") if crc(data) == int(checksum, 16): print(\"CRC valid\") else: print(\"CRC invalid\") Ethernet protocol (TCP) Overview The DVL supports sending velocity updates using the Transmission Control Protocol (TCP). The DVL runs a TCP server on port 16171. Each packet sent contains a velocity report from the DVL on JSON format. Velocity report Velocity report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude. The X, Y, Z axis are oriented according to the DVL. The messages are delimited by newline. Variable Description time Milliseconds since last velocity report (ms) vx Measured velocity in x direction (m/s) vy Measured velocity in y direction (m/s) vz Measured velocity in z direction (m/s) fom Figure of merit, a measure of the accuracy of the measured velocities (m/s) altitude Measured altitude to the bottom (m) velocity_valid If valid is true the DVL has lock on the bottom and the altitude and velocities are valid (true/false) status Reports if there are any issues with the DVL. 0 means no errors format Format type and version for the velocity report transducers Is a list containing information from each transducer: [id, velocity, distance, rssi, nsd, beam_valid] Example of TCP report. (indented for readability) { \"time\": 170.52674865722656, \"vx\": -0.00563613697886467, \"vy\": -0.007631152402609587, \"vz\": -0.007641898933798075, \"fom\": 0.001959984190762043, \"altitude\": 0.6173566579818726, \"transducers\": [ { \"id\": 0, \"velocity\": -0.007625679485499859, \"distance\": 0.6769760251045227, \"rssi\": 38.66838836669922, \"nsd\": 18.295578002929688, \"beam_valid\": true }, { \"id\": 1, \"velocity\": -0.0034413286484777927, \"distance\": 0.6769760251045227, \"rssi\": 35.403541564941406, \"nsd\": 19.518909454345703, \"beam_valid\": true }, { \"id\": 2, \"velocity\": -0.006717036943882704, \"distance\": 0.6653040051460266, \"rssi\": 41.03888702392578, \"nsd\": 20.25017738342285, \"beam_valid\": true }, { \"id\": 3, \"velocity\": -0.01045388076454401, \"distance\": 0.6536320447921753, \"rssi\": 31.09071922302246, \"nsd\": 17.366933822631836, \"beam_valid\": true } ], \"velocity_valid\": true, \"status\": 0, \"format\": \"json_v1\" }","title":"Protocol"},{"location":"dvl/dvl-protocol/#water-linked-dvl-protocol","text":"This document describes the Water Linked DVL protocols (serial and ethernet).","title":"Water Linked DVL protocol"},{"location":"dvl/dvl-protocol/#terminology","text":"DVL - Doppler Velocity Log - Hydro-acoustic unit which uses acoustic beams to measure distance to bottom surface and the velocity which the unit is moving across the surface. ACK - Acknowledgement. The command issued was successful. NAK - Negative acknowledgement. The command issued failed.","title":"Terminology"},{"location":"dvl/dvl-protocol/#version","text":"This document describes protocol version 2.0.x (major.minor.patch) The protocol versioning follows semantic versioning in that: MAJOR version increments represent incompatible API changes MINOR version increments represent added functionality in a backwards-compatible manner PATCH version increments represent backwards-compatible bug fixes","title":"Version"},{"location":"dvl/dvl-protocol/#serial-protocol","text":"","title":"Serial Protocol"},{"location":"dvl/dvl-protocol/#overview","text":"The serial communication format is 115200 8-N-1 (no hardware flow control). Packets sent to and received from the DVL start with a w and end with LF or CR+LF. The packet format is: Start byte Direction Command Options (0 to many) Checksum End byte w c or r x ,[option] *xx \\n or \\r\\n Direction is command ( c ) for commands issued to the DVL and the DVL replies with direction set to response ( r ). The commands can be sent as a string or entered one char at a time from a terminal. The protocol can support Water Linked DVLs with different feature sets. To support any Water Linked DVL the connection procedure is to: Get protocol version. Verify that the major version number is 2. Get product detail. Verify product type is dvl. Note Checksum is optional when sending commands to the DVL. The DVL always returns a checksum. The checksum algorithm is CRC-8 and it is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ).","title":"Overview"},{"location":"dvl/dvl-protocol/#commands","text":"Commands in the table are shown without the checksum for readability. Command Description Response Description wcv Get protocol version wrv, [major],[minor],[patch] Protocol version. eg: wrv,2.1.0 wcw Get product detail wrw, [name] , [version] , [chipID] , [IP address] Where type is dvl, name is product name, version is software version, chip ID is the chip ID and optionally the IP address if connected to DHCP server: eg: wrw,dvl-a50,1.4.0,0xfedcba98765432 or wrw,dvl-a50,1.4.0,0xfedcba98765432,10.11.12.140 wrx, [details below] Velocities measured. See details below wr? Malformed request: Response when packet cannot be understood wr! Malformed request: Packet does not match the given checksum","title":"Commands"},{"location":"dvl/dvl-protocol/#velocity-report","text":"Velocity report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude and will be in the range is from 2-26 Hz. The X, Y, Z axis are oriented according to the marking on the DVL. The velocities measured response is on the following format: wrx, [time],[vx],[vy],[vz],[fom],[altitude],[valid],[status] Variable Description time Milliseconds since last velocity report (ms) vx Measured velocity in x direction (m/s) vy Measured velocity in y direction (m/s) vz Measured velocity in z direction (m/s) fom Figure of merit, a measure of the accuracy of the measured velocities (m/s) altitude Measured altitude to the bottom (m) valid If valid is \"y\" the DVL has lock on the bottom and the altitude and velocities are valid (y/n) status 0 for normal operation, 1 for high temperature warning Example where velocities are valid: wrx,112.83,0.007,0.017,0.006,0.000,0.93,y,0*d2 wrx,140.43,0.008,0.021,0.012,0.000,0.92,y,0*b7 wrx,118.47,0.009,0.020,0.013,0.000,0.92,y,0*54 Example where velocity and altitude is not valid and high temperature warning is given: wrx,1075.51,0.000,0.000,0.000,2.707,-1.00,n,1*04 wrx,1249.29,0.000,0.000,0.000,2.707,-1.00,n,1*6a wrx,1164.94,0.000,0.000,0.000,2.707,-1.00,n,1*39","title":"Velocity report"},{"location":"dvl/dvl-protocol/#transducer-report","text":"Transducer report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude and will be in the range is from 2-26 Hz. The distances measured form each transducer is on the following format: wrt, [dist_1],[dist_2],[dist_3],[dist_4] Variable Description dist_1 Measured distance to bottom from trancduser 1 (m) dist_2 Measured distance to bottom from trancduser 2 (m) dist_3 Measured distance to bottom from trancduser 3 (m) dist_4 Measured distance to bottom from trancduser 4 (m) Example where velocities are valid: wrt,15.00,15.20,14.90,14.20*b1 wrt,14.90,15.10,14.80,14.10*ac Example where distance is not valid on transducer 4: wrt,14.90,15.10,14.80,-1.00*53 wrt,15.00,15.20,14.90,-1.00*71","title":"Transducer report"},{"location":"dvl/dvl-protocol/#checksum","text":"The checksum algorithm is CRC-8 (Polynomal: 0x07, Init: 0x00, RefIn/RefOut: false, XorOut: 0x00, Check: 0xf4). Checksum is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ). Compatible implementations: Python 3: crcmod crcmod.predefined.mkPredefinedCrcFun(\"crc-8\") Golang: github.com/sigurn/crc8 crc8.MakeTable(crc8.CRC8) Example for how to verify checksum using Python 3 and crcmod : crc = crcmod.predefined.mkPredefinedCrcFun(\"crc-8\") sentence = b\"wrx,1164.94,0.000,0.000,0.000,2.707,-1.00,n,1*39\" data, checksum = sentence.split(b\"*\") if crc(data) == int(checksum, 16): print(\"CRC valid\") else: print(\"CRC invalid\")","title":"Checksum"},{"location":"dvl/dvl-protocol/#ethernet-protocol-tcp","text":"","title":"Ethernet protocol (TCP)"},{"location":"dvl/dvl-protocol/#overview_1","text":"The DVL supports sending velocity updates using the Transmission Control Protocol (TCP). The DVL runs a TCP server on port 16171. Each packet sent contains a velocity report from the DVL on JSON format.","title":"Overview"},{"location":"dvl/dvl-protocol/#velocity-report_1","text":"Velocity report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude. The X, Y, Z axis are oriented according to the DVL. The messages are delimited by newline. Variable Description time Milliseconds since last velocity report (ms) vx Measured velocity in x direction (m/s) vy Measured velocity in y direction (m/s) vz Measured velocity in z direction (m/s) fom Figure of merit, a measure of the accuracy of the measured velocities (m/s) altitude Measured altitude to the bottom (m) velocity_valid If valid is true the DVL has lock on the bottom and the altitude and velocities are valid (true/false) status Reports if there are any issues with the DVL. 0 means no errors format Format type and version for the velocity report transducers Is a list containing information from each transducer: [id, velocity, distance, rssi, nsd, beam_valid] Example of TCP report. (indented for readability) { \"time\": 170.52674865722656, \"vx\": -0.00563613697886467, \"vy\": -0.007631152402609587, \"vz\": -0.007641898933798075, \"fom\": 0.001959984190762043, \"altitude\": 0.6173566579818726, \"transducers\": [ { \"id\": 0, \"velocity\": -0.007625679485499859, \"distance\": 0.6769760251045227, \"rssi\": 38.66838836669922, \"nsd\": 18.295578002929688, \"beam_valid\": true }, { \"id\": 1, \"velocity\": -0.0034413286484777927, \"distance\": 0.6769760251045227, \"rssi\": 35.403541564941406, \"nsd\": 19.518909454345703, \"beam_valid\": true }, { \"id\": 2, \"velocity\": -0.006717036943882704, \"distance\": 0.6653040051460266, \"rssi\": 41.03888702392578, \"nsd\": 20.25017738342285, \"beam_valid\": true }, { \"id\": 3, \"velocity\": -0.01045388076454401, \"distance\": 0.6536320447921753, \"rssi\": 31.09071922302246, \"nsd\": 17.366933822631836, \"beam_valid\": true } ], \"velocity_valid\": true, \"status\": 0, \"format\": \"json_v1\" }","title":"Velocity report"},{"location":"dvl/io-interface/","text":"Overview The IO Interface provides simple means of connection to the Water Linked DVLs. It provides magnetics for the ethernet connection and utilizes the Molex Micro-Fit 3.0 power connector which is standard for Water Linked products. There currently exists two revisions of the IO Interface. They are electrically identical. Revision 3 Connector Function Comment RJ45 (8P8C) Ethernet 10/100 BASE-T 3x1 header Serial TX, RX, GND Molex Micro-Fit 3.0 Power 10 - 30 VDC 2x \u00d81.5mm pads Alt. power Fits W\u00fcrth 691137710002 Revision 2 Connector Function Comment RJ45 (8P8C) Ethernet 10/100 BASE-T 3x1 header Serial TX, RX, GND Molex Micro-Fit 3.0 Power 10 - 30 VDC 2x \u00d81.5mm pads Alt. power Note The Molex Micro-Fit 3.0 on revision 2 is prone to damage by excessive sideways force. Take care not the yank the power cable when connected.","title":"IO Interface"},{"location":"dvl/io-interface/#overview","text":"The IO Interface provides simple means of connection to the Water Linked DVLs. It provides magnetics for the ethernet connection and utilizes the Molex Micro-Fit 3.0 power connector which is standard for Water Linked products. There currently exists two revisions of the IO Interface. They are electrically identical.","title":"Overview"},{"location":"dvl/io-interface/#revision-3","text":"Connector Function Comment RJ45 (8P8C) Ethernet 10/100 BASE-T 3x1 header Serial TX, RX, GND Molex Micro-Fit 3.0 Power 10 - 30 VDC 2x \u00d81.5mm pads Alt. power Fits W\u00fcrth 691137710002","title":"Revision 3"},{"location":"dvl/io-interface/#revision-2","text":"Connector Function Comment RJ45 (8P8C) Ethernet 10/100 BASE-T 3x1 header Serial TX, RX, GND Molex Micro-Fit 3.0 Power 10 - 30 VDC 2x \u00d81.5mm pads Alt. power Note The Molex Micro-Fit 3.0 on revision 2 is prone to damage by excessive sideways force. Take care not the yank the power cable when connected.","title":"Revision 2"},{"location":"explorer-kit/hardware/","text":"Hardware Setup Connectors Connect the four Receiver-D1 cables to channel 1 to 4 on the housing. If using the Locator-D1, connect this to the D1 connector on the housing. If using the Locator-A1, connect this to the A1 connector on the housing. If using the Locator-S1, no connections to the housing is needed. Just power the Locator and make sure both the status led on S1 and master is solid green. GPS The on-board GPS module is used to position the system in a global reference system. An external antenna with integrated amplifier is used to improve GPS reception. The signal strength of the GPS can be seen on the top bar in the web GUI. GPS-antenna assembly The GPS-antenna can be mounted anywhere you want, but remember the GPS-antenna is the origin of the master electronics position. Therefor it is recommended to fasten the antenna on the lid of the peli case. With the 3M double sided tape, attach the GPS- antenna to the lid of the peli case. Connect the GPS-antenna cable to the SMA connector on the master electronics. Torque the SMA nut to 3\u20135 in\u00b7lbf (0.3 to 0.6 N\u00b7m) or slightly more than finger tight. IMU The master electronics has an built in IMU used to provide the orientation of the master electronics. This is used in combination with the acoustic position and GPS to generate the global position of the Locator. IMU Calibration For the IMU to work properly it needs to be calibrated. The calibration data is stored when full calibration is obtained for faster calibration on restart of the system. If the system is started on a new location a new calibration is needed for the IMU to work as intended. To calibrate the IMU disconnect all Recivers and Locator cables, but leave power and Ethernet connected. This is to prevent damaging the cables and connector when performing the calibration. While looking at the top bar in the web GUI on the IMU status, move the peli case in a figure of 8 until all the bars are green.","title":"Hardware"},{"location":"explorer-kit/hardware/#hardware-setup","text":"","title":"Hardware Setup"},{"location":"explorer-kit/hardware/#connectors","text":"Connect the four Receiver-D1 cables to channel 1 to 4 on the housing. If using the Locator-D1, connect this to the D1 connector on the housing. If using the Locator-A1, connect this to the A1 connector on the housing. If using the Locator-S1, no connections to the housing is needed. Just power the Locator and make sure both the status led on S1 and master is solid green.","title":"Connectors"},{"location":"explorer-kit/hardware/#gps","text":"The on-board GPS module is used to position the system in a global reference system. An external antenna with integrated amplifier is used to improve GPS reception. The signal strength of the GPS can be seen on the top bar in the web GUI.","title":"GPS"},{"location":"explorer-kit/hardware/#gps-antenna-assembly","text":"The GPS-antenna can be mounted anywhere you want, but remember the GPS-antenna is the origin of the master electronics position. Therefor it is recommended to fasten the antenna on the lid of the peli case. With the 3M double sided tape, attach the GPS- antenna to the lid of the peli case. Connect the GPS-antenna cable to the SMA connector on the master electronics. Torque the SMA nut to 3\u20135 in\u00b7lbf (0.3 to 0.6 N\u00b7m) or slightly more than finger tight.","title":"GPS-antenna assembly"},{"location":"explorer-kit/hardware/#imu","text":"The master electronics has an built in IMU used to provide the orientation of the master electronics. This is used in combination with the acoustic position and GPS to generate the global position of the Locator.","title":"IMU"},{"location":"explorer-kit/hardware/#imu-calibration","text":"For the IMU to work properly it needs to be calibrated. The calibration data is stored when full calibration is obtained for faster calibration on restart of the system. If the system is started on a new location a new calibration is needed for the IMU to work as intended. To calibrate the IMU disconnect all Recivers and Locator cables, but leave power and Ethernet connected. This is to prevent damaging the cables and connector when performing the calibration. While looking at the top bar in the web GUI on the IMU status, move the peli case in a figure of 8 until all the bars are green.","title":"IMU Calibration"},{"location":"explorer-kit/introduction/","text":"Introduction Underwater GPS Explorer Kit The Underwater GPS Explorer Kit is a robust and reliable acoustic positioning system with a range of 100m. The purpose of the system is to give a live GPS position of ROVs, divers and other moving objects below the water surface. The Underwater GPS system is based on Short Baseline (SBL) acoustic positioning. The Locator is placed on the device to be positioned and functions as a beacon that send out an acoustic pulse. Near the surface, there are four Receiver hydrophones lowered into the water. The Receivers listen for the pulse from the locator. Time-of-arrival to each Receiver is used to calculate the Locator\u2019s position. SBL systems, compared to the USBL systems, have the advantage of working well in shallow water and acoustic reflective environments, such as in fish cages, near harbor installations, close to ship hulls, inside water tanks etc. Once the position is known relative to the Receivers, the global position can be found by adding that to the position obtained by a GPS receiver. The Underwater GPS system does that part internally so that it can provide the actual global position of the ROV as it's output. Kit content 1 x Underwater GPS Housing with Master-D1 electronics 4 x Receiver-D1 with 10m cable 1 x Locator of choice 1 x 3m Ethernet cable 1 x 3m power cable 1 x External GPS antenna Quickstart Getting started with Waterlinked Underwater GPS User Manual The information in this site was earlier available in a PDF which is now outdated but useful for offline use. Outdated Water Linked Underwater GPS User Manual Collaboration This document is created using markdown and is hosted on GitHub. If you find something that is not documented well enough, typos or any other mistakes. Please open an issue or create a pull request to fix the problem. Or just simply hit the edit button on the top of the page. Discussion If you have more questions which is not answered on this page please go to our forum where we will be happy to answer you. Datasheet","title":"Introduction"},{"location":"explorer-kit/introduction/#introduction","text":"","title":"Introduction"},{"location":"explorer-kit/introduction/#underwater-gps-explorer-kit","text":"The Underwater GPS Explorer Kit is a robust and reliable acoustic positioning system with a range of 100m. The purpose of the system is to give a live GPS position of ROVs, divers and other moving objects below the water surface. The Underwater GPS system is based on Short Baseline (SBL) acoustic positioning. The Locator is placed on the device to be positioned and functions as a beacon that send out an acoustic pulse. Near the surface, there are four Receiver hydrophones lowered into the water. The Receivers listen for the pulse from the locator. Time-of-arrival to each Receiver is used to calculate the Locator\u2019s position. SBL systems, compared to the USBL systems, have the advantage of working well in shallow water and acoustic reflective environments, such as in fish cages, near harbor installations, close to ship hulls, inside water tanks etc. Once the position is known relative to the Receivers, the global position can be found by adding that to the position obtained by a GPS receiver. The Underwater GPS system does that part internally so that it can provide the actual global position of the ROV as it's output.","title":"Underwater GPS Explorer Kit"},{"location":"explorer-kit/introduction/#kit-content","text":"1 x Underwater GPS Housing with Master-D1 electronics 4 x Receiver-D1 with 10m cable 1 x Locator of choice 1 x 3m Ethernet cable 1 x 3m power cable 1 x External GPS antenna","title":"Kit content"},{"location":"explorer-kit/introduction/#quickstart","text":"Getting started with Waterlinked Underwater GPS","title":"Quickstart"},{"location":"explorer-kit/introduction/#user-manual","text":"The information in this site was earlier available in a PDF which is now outdated but useful for offline use. Outdated Water Linked Underwater GPS User Manual","title":"User Manual"},{"location":"explorer-kit/introduction/#collaboration","text":"This document is created using markdown and is hosted on GitHub. If you find something that is not documented well enough, typos or any other mistakes. Please open an issue or create a pull request to fix the problem. Or just simply hit the edit button on the top of the page.","title":"Collaboration"},{"location":"explorer-kit/introduction/#discussion","text":"If you have more questions which is not answered on this page please go to our forum where we will be happy to answer you. Datasheet","title":"Discussion"},{"location":"explorer-kit/network-settings/","text":"Network Settings At power-up, the Master-D1 reads the DIP-switch settings. The network mode depends on the GP0 and GP1 position. Network mode GP0 GP1 DIP switch position DHCP client ON ON Static IP 192.168.2.94 OFF ON Static custom IP ON OFF DHCP Server, 192.168.0.1 OFF OFF The BS0 and BS1 positions on the dip switch shall both be ON. These boot-select pins are used in factory programming only. Use the supplied Ethernet cable to connect the Underwater GPS to a network switch or directly into the host computer. Note The host computer connected to the topside unit needs to have an IP-address on the same subnet as set on the Master-D1. For example: If the IP address of the UGPS is 192.168.2.94 the host computer needs to be configured to a different 192.168.2.x address e.g. 192.168.2.100.","title":"Network settings"},{"location":"explorer-kit/network-settings/#network-settings","text":"At power-up, the Master-D1 reads the DIP-switch settings. The network mode depends on the GP0 and GP1 position. Network mode GP0 GP1 DIP switch position DHCP client ON ON Static IP 192.168.2.94 OFF ON Static custom IP ON OFF DHCP Server, 192.168.0.1 OFF OFF The BS0 and BS1 positions on the dip switch shall both be ON. These boot-select pins are used in factory programming only. Use the supplied Ethernet cable to connect the Underwater GPS to a network switch or directly into the host computer. Note The host computer connected to the topside unit needs to have an IP-address on the same subnet as set on the Master-D1. For example: If the IP address of the UGPS is 192.168.2.94 the host computer needs to be configured to a different 192.168.2.x address e.g. 192.168.2.100.","title":"Network Settings"},{"location":"explorer-kit/power-supply/","text":"Power supply The power cable comes with stripped jacket. Connect the stripped cables to your favorite 12V power source. Black : Negative Red : Positive Voltage : 10 \u2013 18V Current : 0.7A (12V nominal)","title":"Power supply"},{"location":"explorer-kit/power-supply/#power-supply","text":"The power cable comes with stripped jacket. Connect the stripped cables to your favorite 12V power source. Black : Negative Red : Positive Voltage : 10 \u2013 18V Current : 0.7A (12V nominal)","title":"Power supply"},{"location":"explorer-kit/quickstart/","text":"Quickstart Intro This is a guide on how to start using the Underwater GPS system. The steps are: Power the topside unit Calibrate IMU Deploying receivers Connect everything Select locator and channel Configure receiver placement in GUI Power the topside unit Start by connecting power to the topside unit. We do this first because we want the GPS receiver to start receiving signals and acheive a lock while we setup the rest of the system. If you are using the Locator-S1, power it on now so it also have time to get GPS lock. Calibrate IMU Connect the Ethernet cable to the topside unit and your computer. Then open your web browser and type in the IP-address of your topside unit which is defined by the position of the dip-switch on the Master-D1. How to change the IP-address is described here . At the top bar on the GUI you will see a calibration bar for the IMU. To calibrate the IMU rotate it in a figure of 8 and keep doing it until the IMU calibration bar becomes full and green. Deploying of receivers Before starting to deploy the receivers in the water, add a piece of tape on the receiver cable on the desired depth to make setup easier. Place the receivers in the water on the desired location and decide which number (1-4) each receiver will have. This is important when connecting the receivers to the topside unit. Tip Adding lead weights just above the receiver helps keep them stable when doing the positioning. Connect everything When connecting the receiver cables to the topside unit remember the numbering you decided on and connect the connector to the accordingly port. If this is not correct the position will be completely wrong. Next you connect the Locator if you are using the A1 or D1. Select locator and channel Now that everything is connected and ready it is time to select the right locator and choose which channal to listen on. This is configurated on the setting page of the web GUI. The Water Linked standard is to use channel 17 and this is also the default channel for the Locator-S1. Configure receiver placement and seach range in GUI After selecting the correct locator, you need to provide the correct placement of the receivers to the GUI for the positioning to work correctly. This is done by drag'n drop of each receiver to the correct placment relative to the topside unit. The position of each receiver is seen below in the map view. It you click on the receiver you get a pop up with the possibility to write its exact placment. Once this is done you can limit the search range by using the same drag and drop feature. Warning If you are using the Locator-A1 or S1, you need to provide depth information to the topside unit. Description on how to do this is found here . Tip Reducing the search range helps to improve the performance of the system. It is recomended to limith this range if you are operating in a smaller area. This is especially important in tanks. You are now ready to explore the underwater world and knowing where you are at the same time.","title":"Quickstart"},{"location":"explorer-kit/quickstart/#quickstart","text":"","title":"Quickstart"},{"location":"explorer-kit/quickstart/#intro","text":"This is a guide on how to start using the Underwater GPS system. The steps are: Power the topside unit Calibrate IMU Deploying receivers Connect everything Select locator and channel Configure receiver placement in GUI","title":"Intro"},{"location":"explorer-kit/quickstart/#power-the-topside-unit","text":"Start by connecting power to the topside unit. We do this first because we want the GPS receiver to start receiving signals and acheive a lock while we setup the rest of the system. If you are using the Locator-S1, power it on now so it also have time to get GPS lock.","title":"Power the topside unit"},{"location":"explorer-kit/quickstart/#calibrate-imu","text":"Connect the Ethernet cable to the topside unit and your computer. Then open your web browser and type in the IP-address of your topside unit which is defined by the position of the dip-switch on the Master-D1. How to change the IP-address is described here . At the top bar on the GUI you will see a calibration bar for the IMU. To calibrate the IMU rotate it in a figure of 8 and keep doing it until the IMU calibration bar becomes full and green.","title":"Calibrate IMU"},{"location":"explorer-kit/quickstart/#deploying-of-receivers","text":"Before starting to deploy the receivers in the water, add a piece of tape on the receiver cable on the desired depth to make setup easier. Place the receivers in the water on the desired location and decide which number (1-4) each receiver will have. This is important when connecting the receivers to the topside unit. Tip Adding lead weights just above the receiver helps keep them stable when doing the positioning.","title":"Deploying of receivers"},{"location":"explorer-kit/quickstart/#connect-everything","text":"When connecting the receiver cables to the topside unit remember the numbering you decided on and connect the connector to the accordingly port. If this is not correct the position will be completely wrong. Next you connect the Locator if you are using the A1 or D1.","title":"Connect everything"},{"location":"explorer-kit/quickstart/#select-locator-and-channel","text":"Now that everything is connected and ready it is time to select the right locator and choose which channal to listen on. This is configurated on the setting page of the web GUI. The Water Linked standard is to use channel 17 and this is also the default channel for the Locator-S1.","title":"Select locator and channel"},{"location":"explorer-kit/quickstart/#configure-receiver-placement-and-seach-range-in-gui","text":"After selecting the correct locator, you need to provide the correct placement of the receivers to the GUI for the positioning to work correctly. This is done by drag'n drop of each receiver to the correct placment relative to the topside unit. The position of each receiver is seen below in the map view. It you click on the receiver you get a pop up with the possibility to write its exact placment. Once this is done you can limit the search range by using the same drag and drop feature. Warning If you are using the Locator-A1 or S1, you need to provide depth information to the topside unit. Description on how to do this is found here . Tip Reducing the search range helps to improve the performance of the system. It is recomended to limith this range if you are operating in a smaller area. This is especially important in tanks. You are now ready to explore the underwater world and knowing where you are at the same time.","title":"Configure receiver placement and seach range in GUI"},{"location":"explorer-kit/trouble-shooting/","text":"Trouble shooting If you are experiencing issues with the Underwater GPS look at the following points to help you trouble shoot. Resolving errors The top right corner of the GUI shows error messages from the Underwater GPS. Positioning will not work until they are resolved. The table below describes the error messages and how to solve the problem. Message Solition No external depth received. Is it being sent correctly? The Underwater GPS is not receiving the depth of the Locator from the ROV. This normally means software on the ROV is not working correctly. Details on how the depth is sent to the system can be found here . No signal from Locator-U1. Have you selected the correct channel? Verify that the Locator-U1 is powered on and that it has GPS lock (See LED signals ). Verify that the same channel is selected on the settings page and the Locator rotaty switch. Verify that the Locator and Receivers are in the water Missing GPS lock/position. Please provide me with unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync purposes. Move the GPS antenna to another location where it has better view of the sky. Locator-D1 not detected. Please verify connection. Locator-D1 selected but not detected by the Master-D1. Verify connection. Receiver X not detected. Please verify connection. Receiver X is not detected by the Master-D1. Verify connection. External satellite position is required but not received. External position is selected, but not received via the API . Typically this is an external software not started or not working. External orientation is required but not received. External orientation is selected, but not received via the API . Typically this is an external software not started or not working. IMU is not calibrated: position will not be accurate. Please rotate the kit to calibrate or use external orientation source. See IMU calibration for details on how calibrate. GPS has no position, please provide me with an unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync porpuses. Move the GPS antenna to another location where it has better view of the sky. Network setup Are you able to see the Underwater GPS GUI? What is the setting of the DIP switches for configuring network? If the DIP switches are set to a static IP: Have you configured a static IP for your computer? Are you connecting directly to the Master-D1 or is your computer on the same network? Generic Are you running the latest software version? Are there any warnings displayed in the GUI? Receiver setup Are the receivers connected to the correct ports (numbered 1-4) on the peli case? Have you measured the distances to the recivers correctly and are the distances matching the measurements in the recieiver setup of the GUI? Is the search range matching the operational area? If receivers are on a line, have you limited the search area to 1 side of the \"line\"? Try lift receiver 1 out of the water and verify that receiver 1 has a flat signal in the diagnostic view. Repeat for the other receivers. This helps verify that you have connected correctly. Settings Have you selected the correct channel when using Locator-U1 or Locator-S1? If you are statinary: Have you selected a static position for the GPS and IMU? If you are moving: Have you selected on-board (or external) GPS and IMU? Diagnostic page Is there signal from all of the receivers? Is there a significant peek in the signal for each receiver? Is there noise from an nearby echo sounder which is causing acoustic interference? Such an interference can be seen in the diagnostic view. See diagnostic explanation for more details.","title":"Trouble shooting"},{"location":"explorer-kit/trouble-shooting/#trouble-shooting","text":"If you are experiencing issues with the Underwater GPS look at the following points to help you trouble shoot.","title":"Trouble shooting"},{"location":"explorer-kit/trouble-shooting/#resolving-errors","text":"The top right corner of the GUI shows error messages from the Underwater GPS. Positioning will not work until they are resolved. The table below describes the error messages and how to solve the problem. Message Solition No external depth received. Is it being sent correctly? The Underwater GPS is not receiving the depth of the Locator from the ROV. This normally means software on the ROV is not working correctly. Details on how the depth is sent to the system can be found here . No signal from Locator-U1. Have you selected the correct channel? Verify that the Locator-U1 is powered on and that it has GPS lock (See LED signals ). Verify that the same channel is selected on the settings page and the Locator rotaty switch. Verify that the Locator and Receivers are in the water Missing GPS lock/position. Please provide me with unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync purposes. Move the GPS antenna to another location where it has better view of the sky. Locator-D1 not detected. Please verify connection. Locator-D1 selected but not detected by the Master-D1. Verify connection. Receiver X not detected. Please verify connection. Receiver X is not detected by the Master-D1. Verify connection. External satellite position is required but not received. External position is selected, but not received via the API . Typically this is an external software not started or not working. External orientation is required but not received. External orientation is selected, but not received via the API . Typically this is an external software not started or not working. IMU is not calibrated: position will not be accurate. Please rotate the kit to calibrate or use external orientation source. See IMU calibration for details on how calibrate. GPS has no position, please provide me with an unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync porpuses. Move the GPS antenna to another location where it has better view of the sky.","title":"Resolving errors"},{"location":"explorer-kit/trouble-shooting/#network-setup","text":"Are you able to see the Underwater GPS GUI? What is the setting of the DIP switches for configuring network? If the DIP switches are set to a static IP: Have you configured a static IP for your computer? Are you connecting directly to the Master-D1 or is your computer on the same network?","title":"Network setup"},{"location":"explorer-kit/trouble-shooting/#generic","text":"Are you running the latest software version? Are there any warnings displayed in the GUI?","title":"Generic"},{"location":"explorer-kit/trouble-shooting/#receiver-setup","text":"Are the receivers connected to the correct ports (numbered 1-4) on the peli case? Have you measured the distances to the recivers correctly and are the distances matching the measurements in the recieiver setup of the GUI? Is the search range matching the operational area? If receivers are on a line, have you limited the search area to 1 side of the \"line\"? Try lift receiver 1 out of the water and verify that receiver 1 has a flat signal in the diagnostic view. Repeat for the other receivers. This helps verify that you have connected correctly.","title":"Receiver setup"},{"location":"explorer-kit/trouble-shooting/#settings","text":"Have you selected the correct channel when using Locator-U1 or Locator-S1? If you are statinary: Have you selected a static position for the GPS and IMU? If you are moving: Have you selected on-board (or external) GPS and IMU?","title":"Settings"},{"location":"explorer-kit/trouble-shooting/#diagnostic-page","text":"Is there signal from all of the receivers? Is there a significant peek in the signal for each receiver? Is there noise from an nearby echo sounder which is causing acoustic interference? Such an interference can be seen in the diagnostic view. See diagnostic explanation for more details.","title":"Diagnostic page"},{"location":"explorer-kit/upgrader/","text":"Software update As of software release 2.1.0 the system automaticly checks for updates when the host computer is connected to internet. If you have the latest release you will see a green checkmark as shown below. An exclamation mark will indicate if a newer release is available. A software update package (.wlup file) includes all files required to update the system. The software package is encrypted and will only work for the Chip ID it is generated for. The Chip ID can be found in the About tab of the GUI. Update process Please select the update process that is best suited to you: If the Underwater GPS GUI is visible to you on http://192.168.2.94 please use the Update with static IP . If the Underwater GPS GUI is not shown when using the link above, please use the Update with DHCP . Warning The software upgrade will clear the receiver configuration, settings and POIs. Make sure to save the information you need before upgrading. Download software package To get the latest software package for your kit: Download directly from the \"About\" page of the Underwater GPS GUI Alternatively: Go to update.waterlinked.com and enter the Chip ID of your kit. Update using static IP This procedure works if you have haven't changed the jumpers on the Master-D1, you have set up a static IP address on your computer and you are able to see the gui on http://192.168.2.94 . Step Description 1 Download the software package (.wlup) for your kit Download software package 2 Power off the system 3 Connect the upgrade plug included in the kit or connect GPIO0 to ground using a jumper cable 4 Power on the system 6 Go to web gui http://192.168.2.94 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 7 Remove the upgade plug or the jumper grounding GP0. 8 Click \u201cBrowse file\u201d and select correct <>.wlup file 9 Wait for update process to complete 10 When the update process is complete and successful, the system will automatically reboot to standard mode If process fails, please try again 11 Verify that the SW version has updated by going to the web gui http://192.168.2.94 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 12 Upgrade process complete Celebrate with your favorite beverage Update using DHCP This procedure works if you don't know how to set a static IP address on your computer. Step Description 1 Download the software package (.wlup) for your kit Download software package 2 Power off the system 3 Set Master-D1 to DHCP Server. (Remember original setting) See network settings 4 Connect a network cable directly from your computer to the Master-D1 5 Configure the network on your computer to get IP address from DHCP (this is default on most computers, so if you haven't set a static ip you're good) 6 Connect the upgrade plug included in the kit or connect GPIO0 to ground using a jumper cable 7 Power on the system 8 Go to web GUI http://192.168.0.1 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 9 Remove the grounding of GP0. 10 Click \u201cBrowse file\u201d and select correct <>.wlup file 11 Wait for update process to complete 12 When the update process is complete and successful, the system will automatically reboot to standard mode If process fails, please try again 13 Verify that the SW version has updated by going to the web gui http://192.168.0.1 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 14 Reset network settings to original setting from step 2 See network settings . 15 Upgrade process complete Celebrate with your favorite beverage","title":"Software Update"},{"location":"explorer-kit/upgrader/#software-update","text":"As of software release 2.1.0 the system automaticly checks for updates when the host computer is connected to internet. If you have the latest release you will see a green checkmark as shown below. An exclamation mark will indicate if a newer release is available. A software update package (.wlup file) includes all files required to update the system. The software package is encrypted and will only work for the Chip ID it is generated for. The Chip ID can be found in the About tab of the GUI.","title":"Software update"},{"location":"explorer-kit/upgrader/#update-process","text":"Please select the update process that is best suited to you: If the Underwater GPS GUI is visible to you on http://192.168.2.94 please use the Update with static IP . If the Underwater GPS GUI is not shown when using the link above, please use the Update with DHCP . Warning The software upgrade will clear the receiver configuration, settings and POIs. Make sure to save the information you need before upgrading.","title":"Update process"},{"location":"explorer-kit/upgrader/#download-software-package","text":"To get the latest software package for your kit: Download directly from the \"About\" page of the Underwater GPS GUI Alternatively: Go to update.waterlinked.com and enter the Chip ID of your kit.","title":"Download software package"},{"location":"explorer-kit/upgrader/#update-using-static-ip","text":"This procedure works if you have haven't changed the jumpers on the Master-D1, you have set up a static IP address on your computer and you are able to see the gui on http://192.168.2.94 . Step Description 1 Download the software package (.wlup) for your kit Download software package 2 Power off the system 3 Connect the upgrade plug included in the kit or connect GPIO0 to ground using a jumper cable 4 Power on the system 6 Go to web gui http://192.168.2.94 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 7 Remove the upgade plug or the jumper grounding GP0. 8 Click \u201cBrowse file\u201d and select correct <>.wlup file 9 Wait for update process to complete 10 When the update process is complete and successful, the system will automatically reboot to standard mode If process fails, please try again 11 Verify that the SW version has updated by going to the web gui http://192.168.2.94 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 12 Upgrade process complete Celebrate with your favorite beverage","title":"Update using static IP"},{"location":"explorer-kit/upgrader/#update-using-dhcp","text":"This procedure works if you don't know how to set a static IP address on your computer. Step Description 1 Download the software package (.wlup) for your kit Download software package 2 Power off the system 3 Set Master-D1 to DHCP Server. (Remember original setting) See network settings 4 Connect a network cable directly from your computer to the Master-D1 5 Configure the network on your computer to get IP address from DHCP (this is default on most computers, so if you haven't set a static ip you're good) 6 Connect the upgrade plug included in the kit or connect GPIO0 to ground using a jumper cable 7 Power on the system 8 Go to web GUI http://192.168.0.1 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 9 Remove the grounding of GP0. 10 Click \u201cBrowse file\u201d and select correct <>.wlup file 11 Wait for update process to complete 12 When the update process is complete and successful, the system will automatically reboot to standard mode If process fails, please try again 13 Verify that the SW version has updated by going to the web gui http://192.168.0.1 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 14 Reset network settings to original setting from step 2 See network settings . 15 Upgrade process complete Celebrate with your favorite beverage","title":"Update using DHCP"},{"location":"explorer-kit/warnings/","text":"Warnings To avoid the risk of damage to the Underwater GPS, please read this user manual carefully before it is installed and used for the first time. Operation area The Underwater GPS system ONLY work in water. It does not work in air. Max voltage The absolute maximum voltage rating of the equipment is 18V. Voltages above this will damage the electronics. Reverse voltage The board does not have reverse polarity protection. Do not apply a negative voltage to the red power wire as this will damage the electronics. Temperature Make sure the system does not overheat. Avoid placing it in direct sunlight over extended periods of time. Salt water The Master-D1 Electronics will corrode if it comes in contact with salt water. Keep the housing lid closed when in the field to avoid salt water to get in contact with any electronics. Force Avoid using excessive force on connectors, screws and other parts of the system as this can lead to mechanical damage.","title":"Warnings"},{"location":"explorer-kit/warnings/#warnings","text":"To avoid the risk of damage to the Underwater GPS, please read this user manual carefully before it is installed and used for the first time. Operation area The Underwater GPS system ONLY work in water. It does not work in air. Max voltage The absolute maximum voltage rating of the equipment is 18V. Voltages above this will damage the electronics. Reverse voltage The board does not have reverse polarity protection. Do not apply a negative voltage to the red power wire as this will damage the electronics. Temperature Make sure the system does not overheat. Avoid placing it in direct sunlight over extended periods of time. Salt water The Master-D1 Electronics will corrode if it comes in contact with salt water. Keep the housing lid closed when in the field to avoid salt water to get in contact with any electronics. Force Avoid using excessive force on connectors, screws and other parts of the system as this can lead to mechanical damage.","title":"Warnings"},{"location":"explorer-kit/gui/api/","text":"API The Underwater GPS system comes with an easy-to-use software API. This API uses a HTTP-based scheme to interact with the system. Through the API you can among others: Read acoustic and global position data Read GPS and IMU raw data Read and set POIs Set configuration settings See demo.waterlinked.com/swagger for more information. Beacuse the API is based on HTTP and it is possible to use multiple different programing languages to interface it. In our examples on Github we use Python 2.7. How to install the requirements needed when using the API with Python is explained below. How to install requirements needed to use Water Linked API examples When starting to use the Water Linked software API you need to make sure you have all the requriments installed. First install Python 2.7 and pip: Windows: Guide Mac: It should be preinstalled. Check by using these command: python2 -V pip -V Linux: It should be preinstalled. Check by using these command: python2 --version pip --version Next you need to download/clone our the repository which is found on Github . Then you open a terminal in the directory where you saved the files and install the required Python packages using this command: Windows: python -m pip install -r requirements.txt Linux and Mac: pip install -r requirements.txt Once this is done you are ready to start interfacing the API. Example code which use the API can be found here . Providing depth to system when using Locator-A1/S1 Make sure you have completed the installation of the requirments found above. Then open a terminal window in the dictionary where the files are saved and run the command: python python externaldepth.py -d DEPTH_OF_LOCATOR -t TEMP_OF_WATER -u URL_OF_KIT -r REPETATION_RATE DEPTH_OF_LOCATOR: Is the current depth of the Locator. TEMP_OF_WATER: Is the temperature of the water where the Locator is operating in. URL_OF_KIT: Is the url of the kit. Usually: \"http://192.168.2.94\" REPETATION_RATE: If you want to repate the sending of depth it is the delay between each sending in seconds.","title":"API"},{"location":"explorer-kit/gui/api/#api","text":"The Underwater GPS system comes with an easy-to-use software API. This API uses a HTTP-based scheme to interact with the system. Through the API you can among others: Read acoustic and global position data Read GPS and IMU raw data Read and set POIs Set configuration settings See demo.waterlinked.com/swagger for more information. Beacuse the API is based on HTTP and it is possible to use multiple different programing languages to interface it. In our examples on Github we use Python 2.7. How to install the requirements needed when using the API with Python is explained below.","title":"API"},{"location":"explorer-kit/gui/api/#how-to-install-requirements-needed-to-use-water-linked-api-examples","text":"When starting to use the Water Linked software API you need to make sure you have all the requriments installed. First install Python 2.7 and pip: Windows: Guide Mac: It should be preinstalled. Check by using these command: python2 -V pip -V Linux: It should be preinstalled. Check by using these command: python2 --version pip --version Next you need to download/clone our the repository which is found on Github . Then you open a terminal in the directory where you saved the files and install the required Python packages using this command: Windows: python -m pip install -r requirements.txt Linux and Mac: pip install -r requirements.txt Once this is done you are ready to start interfacing the API. Example code which use the API can be found here .","title":"How to install requirements needed to use Water Linked API examples"},{"location":"explorer-kit/gui/api/#providing-depth-to-system-when-using-locator-a1s1","text":"Make sure you have completed the installation of the requirments found above. Then open a terminal window in the dictionary where the files are saved and run the command: python python externaldepth.py -d DEPTH_OF_LOCATOR -t TEMP_OF_WATER -u URL_OF_KIT -r REPETATION_RATE DEPTH_OF_LOCATOR: Is the current depth of the Locator. TEMP_OF_WATER: Is the temperature of the water where the Locator is operating in. URL_OF_KIT: Is the url of the kit. Usually: \"http://192.168.2.94\" REPETATION_RATE: If you want to repate the sending of depth it is the delay between each sending in seconds.","title":"Providing depth to system when using Locator-A1/S1"},{"location":"explorer-kit/gui/diagnostic/","text":"Diagnostics Verify Receiver signal strength in the diagnostic page on the web GUI by going to the diagnostic tab in the side panel on the left. This view will show the signal strength from all Receivers. It should look something like this: In the diagnostic plot you should see the signal from all 4 Receivers. The signals should be well above the noise floor. Interference Acoustic interference can be observed in the diagnostic plot. Echo sounders from your boat or nearby boats typically appears like burst noise. If it is coming from your boat, try to turn off the echo sounder to improve position accuracy. In case of interference from other acoustic sources, use the GUI to try other channels to avoid the interference.","title":"Diagnostic"},{"location":"explorer-kit/gui/diagnostic/#diagnostics","text":"Verify Receiver signal strength in the diagnostic page on the web GUI by going to the diagnostic tab in the side panel on the left. This view will show the signal strength from all Receivers. It should look something like this: In the diagnostic plot you should see the signal from all 4 Receivers. The signals should be well above the noise floor.","title":"Diagnostics"},{"location":"explorer-kit/gui/diagnostic/#interference","text":"Acoustic interference can be observed in the diagnostic plot. Echo sounders from your boat or nearby boats typically appears like burst noise. If it is coming from your boat, try to turn off the echo sounder to improve position accuracy. In case of interference from other acoustic sources, use the GUI to try other channels to avoid the interference.","title":"Interference"},{"location":"explorer-kit/gui/position/","text":"Position view The Underwater GPS GUI is web based. Using your favorite web browser, go the IP address as defined here . We currently support and recommend Chrome, Firefox and Safari. Attention Internet Explorer is not supported as of now.","title":"Position"},{"location":"explorer-kit/gui/position/#position-view","text":"The Underwater GPS GUI is web based. Using your favorite web browser, go the IP address as defined here . We currently support and recommend Chrome, Firefox and Safari. Attention Internet Explorer is not supported as of now.","title":"Position view"},{"location":"explorer-kit/gui/receivers/","text":"Receivers Receiver Guidelines You may place the Receivers at any location within 100m from the top-side housing / Master_D1. In order to ensure the best performance, you should follow a few guidelines: Line-of-sight Try to place the Receivers so they all have a free line-of-sight to the Locator. Good Separation The system performs better when there is a decent distance between the Receivers. More separation is better, but 2x2 meters is sufficient for good performance. Max Range There should be maximum of 100m from any Receiver to the Locator Receiver Depth Place the Receivers at a few meters depth. Near the surface there are typically small air bubbles caused by waves. These small air bubbles attenuate the acoustic signal and can reduce the system performance. Limit search area You will get a better position if you help the search algorithm to narrow the search area. Limit the search range setting to the area where the Locator is expected to be. Directivity The Receivers and Locators are fully omnidirectional and transmits/receives equally good in all directions. The only direction with less performance is backwards where the cable enters. Receiver stability Add some weight to the Receiver cable just above the Receiver so they hang straight down in the water On board GPS If the master electronics is static during operation it is recommended to use the static option for the GPS. This is to remove the inaccuracy of the GPS Receiver in global position. Only use onboard GPS when the reference system is moving eg. if mounted to a boat. Reference Systems In order to calculate the absolute position of the Locator we need to define two reference systems, the acoustic and the global reference system. The global reference system is defined by latitude and longitude and is the reference system used by the GPS and in maps. The acoustic reference system (the x and y axis) is defined by the orientation of the housing. The housing is by definition located in origin (x=0, y=0). A label on top of the lid indicates the x-y coordinate system. Boat Example The illustration bellow shows a typical Receiver configuration when installed on a boat. The Receivers are hanging from the side of the boat, one in each corner. The depth of the Receivers are typically 2-4m, deep enough to get below the hull and get free line-of-sight to the Locator. Notice how the housing defines the origin and coordinate system of the acoustic reference system.","title":"Receivers"},{"location":"explorer-kit/gui/receivers/#receivers","text":"","title":"Receivers"},{"location":"explorer-kit/gui/receivers/#receiver-guidelines","text":"You may place the Receivers at any location within 100m from the top-side housing / Master_D1. In order to ensure the best performance, you should follow a few guidelines: Line-of-sight Try to place the Receivers so they all have a free line-of-sight to the Locator. Good Separation The system performs better when there is a decent distance between the Receivers. More separation is better, but 2x2 meters is sufficient for good performance. Max Range There should be maximum of 100m from any Receiver to the Locator Receiver Depth Place the Receivers at a few meters depth. Near the surface there are typically small air bubbles caused by waves. These small air bubbles attenuate the acoustic signal and can reduce the system performance. Limit search area You will get a better position if you help the search algorithm to narrow the search area. Limit the search range setting to the area where the Locator is expected to be. Directivity The Receivers and Locators are fully omnidirectional and transmits/receives equally good in all directions. The only direction with less performance is backwards where the cable enters. Receiver stability Add some weight to the Receiver cable just above the Receiver so they hang straight down in the water On board GPS If the master electronics is static during operation it is recommended to use the static option for the GPS. This is to remove the inaccuracy of the GPS Receiver in global position. Only use onboard GPS when the reference system is moving eg. if mounted to a boat.","title":"Receiver Guidelines"},{"location":"explorer-kit/gui/receivers/#reference-systems","text":"In order to calculate the absolute position of the Locator we need to define two reference systems, the acoustic and the global reference system. The global reference system is defined by latitude and longitude and is the reference system used by the GPS and in maps. The acoustic reference system (the x and y axis) is defined by the orientation of the housing. The housing is by definition located in origin (x=0, y=0). A label on top of the lid indicates the x-y coordinate system.","title":"Reference Systems"},{"location":"explorer-kit/gui/receivers/#boat-example","text":"The illustration bellow shows a typical Receiver configuration when installed on a boat. The Receivers are hanging from the side of the boat, one in each corner. The depth of the Receivers are typically 2-4m, deep enough to get below the hull and get free line-of-sight to the Locator. Notice how the housing defines the origin and coordinate system of the acoustic reference system.","title":"Boat Example"},{"location":"explorer-kit/gui/settings/","text":"Settings Locator setup In this section you choose which locator you are using with the system and on which channel it is sending. The Water Linked default channel is 17 and this is the channel that the Locator-S1 is running on. If using the Locator-U1 the channel needs to macth the rotary switch at the back of the U1. Warning If you are using the Locator-A1 or S1, you need to provid depth information to the topside unit. Description on how to do this is found here . Top-side Setup In this section you have the option to choose which GPS and IMU source you are going to use. We strongly advise to use static or external GPS when operation allow for it. Because the master-D1 electronics has a standard GPS receiver it has a standard deviation of around 2-3 meters. How to input external GPS and IMU with the API is decribed here . User preferences In the user preferences section you can select the unit of messurments you want to use. We support both Metric and Imperial. You can also select if you want a dummy boat to be displayed on the map pages and the receiver configuration page.","title":"Settings"},{"location":"explorer-kit/gui/settings/#settings","text":"","title":"Settings"},{"location":"explorer-kit/gui/settings/#locator-setup","text":"In this section you choose which locator you are using with the system and on which channel it is sending. The Water Linked default channel is 17 and this is the channel that the Locator-S1 is running on. If using the Locator-U1 the channel needs to macth the rotary switch at the back of the U1. Warning If you are using the Locator-A1 or S1, you need to provid depth information to the topside unit. Description on how to do this is found here .","title":"Locator setup"},{"location":"explorer-kit/gui/settings/#top-side-setup","text":"In this section you have the option to choose which GPS and IMU source you are going to use. We strongly advise to use static or external GPS when operation allow for it. Because the master-D1 electronics has a standard GPS receiver it has a standard deviation of around 2-3 meters. How to input external GPS and IMU with the API is decribed here .","title":"Top-side Setup"},{"location":"explorer-kit/gui/settings/#user-preferences","text":"In the user preferences section you can select the unit of messurments you want to use. We support both Metric and Imperial. You can also select if you want a dummy boat to be displayed on the map pages and the receiver configuration page.","title":"User preferences"},{"location":"locators/introduction/","text":"Locators The Locator is a transmitter which is placed on the underwater device which you want to position. The Underwater GPS system supports several different locators. A comparison table is found below. More in-depth information can be found on the following pages.","title":"Introduction"},{"location":"locators/introduction/#locators","text":"The Locator is a transmitter which is placed on the underwater device which you want to position. The Underwater GPS system supports several different locators. A comparison table is found below. More in-depth information can be found on the following pages.","title":"Locators"},{"location":"locators/locator-a1/","text":"Locator-A1 Description The Locator-A1 has the smallest physical footprint in our series of locators. It can be integrated into even the most compact ROVs. The Locator-A1 does not carry its own depth sensor so the Master-D1 requires the depth to be provided from your underwater vehicle (ROV etc.) This is acheived by using the included software API. Example of how to perform this can be found here . Wiring interface The tables below shows the pinning of the A1 interface connectors. Dimensions Datasheet","title":"Locator-A1"},{"location":"locators/locator-a1/#locator-a1","text":"","title":"Locator-A1"},{"location":"locators/locator-a1/#description","text":"The Locator-A1 has the smallest physical footprint in our series of locators. It can be integrated into even the most compact ROVs. The Locator-A1 does not carry its own depth sensor so the Master-D1 requires the depth to be provided from your underwater vehicle (ROV etc.) This is acheived by using the included software API. Example of how to perform this can be found here .","title":"Description"},{"location":"locators/locator-a1/#wiring-interface","text":"The tables below shows the pinning of the A1 interface connectors.","title":"Wiring interface"},{"location":"locators/locator-a1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"locators/locator-d1/","text":"Locator-D1 Description The Locator-D1 carries its own depth sensor and can therefore operate fully stand-alone and independent of the device you want to position. Warning The Locator-D1 can only be submerged for about 6 hours. It then needs to dry the pressure sensor in order to give correct depth readings. Wiring interface The tables below shows the pinning of the D1 interface connectors. Dimensions Datasheet","title":"Locator-D1"},{"location":"locators/locator-d1/#locator-d1","text":"","title":"Locator-D1"},{"location":"locators/locator-d1/#description","text":"The Locator-D1 carries its own depth sensor and can therefore operate fully stand-alone and independent of the device you want to position. Warning The Locator-D1 can only be submerged for about 6 hours. It then needs to dry the pressure sensor in order to give correct depth readings.","title":"Description"},{"location":"locators/locator-d1/#wiring-interface","text":"The tables below shows the pinning of the D1 interface connectors.","title":"Wiring interface"},{"location":"locators/locator-d1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"locators/locator-s1/","text":"Locator-S1 Description The Locator-S1 carries an internal GPS based time sync module. Because of this, the S1 does not require tether integration for top-side communication. It only requires external power 10-18V to be provided from the underwater device. Some Locator-S1 attributes can be configured using an integrated UART (3V3) interface. This configuration is optional and not required for normal operation. Before deployment in water, the Locator-S1 needs to achieve a GPS lock. The integrated status-LED shows the condition of the GPS lock. Once the Locator-S1 has lock it can operate for approximately 6 hours befor needing resync with GPS. Note The default channel for Locator-S1 is 17 on boot. Locator-S1 supports channel 16,17 and 18. Channel overveiw can be found here . As the Locator-S1 does not carry its own depth sensor, the depth needs to be provided from the underwater vehicle (ROV etc.) to the topside Master-D1 using the software API. Example of how to perform this can be found here . LED Signals No green light: Power is off and the unit is not ready for diving. Flashing green light (once a second): Searching for GPS lock. The unit is not ready to dive. Fixed green light: GPS lock is acheived. The unit is ready to dive. Flashing green light (slow): GPS lock has been acheived but lost. The unit is ready to dive. Wiring interface The tables below shows the pinning of the S1 interface. Interface Color Positive (10-18V) Orange Negative Orange/White UART RX Brown UART TX Brown/White Terminal Interface The Locator-S1 has a simple 3.3 volt UART interface which is used to change the channel of the locator. Settings Value Baud rate 9600 Data parity stop 8N1 Flow control None Dimensions Datasheet","title":"Locator-S1"},{"location":"locators/locator-s1/#locator-s1","text":"","title":"Locator-S1"},{"location":"locators/locator-s1/#description","text":"The Locator-S1 carries an internal GPS based time sync module. Because of this, the S1 does not require tether integration for top-side communication. It only requires external power 10-18V to be provided from the underwater device. Some Locator-S1 attributes can be configured using an integrated UART (3V3) interface. This configuration is optional and not required for normal operation. Before deployment in water, the Locator-S1 needs to achieve a GPS lock. The integrated status-LED shows the condition of the GPS lock. Once the Locator-S1 has lock it can operate for approximately 6 hours befor needing resync with GPS. Note The default channel for Locator-S1 is 17 on boot. Locator-S1 supports channel 16,17 and 18. Channel overveiw can be found here . As the Locator-S1 does not carry its own depth sensor, the depth needs to be provided from the underwater vehicle (ROV etc.) to the topside Master-D1 using the software API. Example of how to perform this can be found here .","title":"Description"},{"location":"locators/locator-s1/#led-signals","text":"No green light: Power is off and the unit is not ready for diving. Flashing green light (once a second): Searching for GPS lock. The unit is not ready to dive. Fixed green light: GPS lock is acheived. The unit is ready to dive. Flashing green light (slow): GPS lock has been acheived but lost. The unit is ready to dive.","title":"LED Signals"},{"location":"locators/locator-s1/#wiring-interface","text":"The tables below shows the pinning of the S1 interface. Interface Color Positive (10-18V) Orange Negative Orange/White UART RX Brown UART TX Brown/White","title":"Wiring interface"},{"location":"locators/locator-s1/#terminal-interface","text":"The Locator-S1 has a simple 3.3 volt UART interface which is used to change the channel of the locator. Settings Value Baud rate 9600 Data parity stop 8N1 Flow control None","title":"Terminal Interface"},{"location":"locators/locator-s1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"locators/locator-u1/","text":"Locator-U1 Description The Locator-U1 is a battery powered, digital hydro acoustic locator device. It carries an internal GPS based time sync module, which means no tether is required. This Locator fits well for divers, ROVs where power is not easily accessible, or other underwater applications. The internal battery is rechargeable using the USB-C cable that follows and standard 5V USB charger. Before deployment in water, the Locator-U1 needs to achieve a GPS lock. The integrated status-LED shows the condition of the GPS lock. Once the Locator-U1 has lock it can operate for approximately 6 hours befor needing resync with GPS. The Locator-U1 has a rotary switch located on the inside of the cap. This switch is used to change the channel on which the Locator is transmitting. The same channel needs to be selected in the Water Linked Underwater GPS GUI. Channel overveiw can be found here . The Locator has 3 mounting holes on each side for M3 screws. A default bracket is included. Charging Insert included USB-C cable into a wall adapter and connect it to the Locator-U1. The Locator LED will normally start pulsating while charging and turn solid green once charging has finished. Note : If battery is fully discharged the pulsating will not be activated. The Locator will still charge regardless of the LED not showing the charge indication. The Locator will in this cause show searching for GPS lock or GPS lock achieved indication. Note : Some Locator-U1 units are produced with a fault that causes them to never be able to show the charge indication. The Loctor will still charge and operate as normal during use. Charging time is 7 hours. Powering on/off To power on the Locator-U1 simply tighten the lid over the charging port. The the LED will start to blinking indicating that the Locator is searching for GPS lock. The Locator is ready to use when the LED stops blinking and turns solid. Before powering on, ensure the O-ring within the lid is without damage. To power off the Locator-U1 unscrew the back lid until the LED turns off. LED Signals No green light: Power is off and the unit is not ready for diving. Flashing green light (once a second): Searching for GPS lock. The unit is not ready to dive. Fixed green light: GPS lock is acheived. The unit is ready to dive. Flashing green light (slow): GPS lock has been acheived but lost. The unit is ready to dive. Pulsating green light : The Locator-U1 is charging. The unit is not ready to dive. See charge description above. Fast flashing green light (multiple times pr second): Error indication. The unit is not ready to dive. Typically this is caused by exceeding dive time and the pressure sensor needing to dry. Charging the Locator is the fastest way to dry the pressure sensor. Warning The Locator-U1 can only be submerged for about 6 hours. It then needs to dry the pressure sensor in order to give correct depth readings. Wiring interface Because the U1 is battery powered the only interface for it is the charing port which is a standard USB-C type connector. Included in package Locator-U1 USB-C charging cable Bracket for mounting Dimensions Datasheet","title":"Locator-U1"},{"location":"locators/locator-u1/#locator-u1","text":"","title":"Locator-U1"},{"location":"locators/locator-u1/#description","text":"The Locator-U1 is a battery powered, digital hydro acoustic locator device. It carries an internal GPS based time sync module, which means no tether is required. This Locator fits well for divers, ROVs where power is not easily accessible, or other underwater applications. The internal battery is rechargeable using the USB-C cable that follows and standard 5V USB charger. Before deployment in water, the Locator-U1 needs to achieve a GPS lock. The integrated status-LED shows the condition of the GPS lock. Once the Locator-U1 has lock it can operate for approximately 6 hours befor needing resync with GPS. The Locator-U1 has a rotary switch located on the inside of the cap. This switch is used to change the channel on which the Locator is transmitting. The same channel needs to be selected in the Water Linked Underwater GPS GUI. Channel overveiw can be found here . The Locator has 3 mounting holes on each side for M3 screws. A default bracket is included.","title":"Description"},{"location":"locators/locator-u1/#charging","text":"Insert included USB-C cable into a wall adapter and connect it to the Locator-U1. The Locator LED will normally start pulsating while charging and turn solid green once charging has finished. Note : If battery is fully discharged the pulsating will not be activated. The Locator will still charge regardless of the LED not showing the charge indication. The Locator will in this cause show searching for GPS lock or GPS lock achieved indication. Note : Some Locator-U1 units are produced with a fault that causes them to never be able to show the charge indication. The Loctor will still charge and operate as normal during use. Charging time is 7 hours.","title":"Charging"},{"location":"locators/locator-u1/#powering-onoff","text":"To power on the Locator-U1 simply tighten the lid over the charging port. The the LED will start to blinking indicating that the Locator is searching for GPS lock. The Locator is ready to use when the LED stops blinking and turns solid. Before powering on, ensure the O-ring within the lid is without damage. To power off the Locator-U1 unscrew the back lid until the LED turns off.","title":"Powering on/off"},{"location":"locators/locator-u1/#led-signals","text":"No green light: Power is off and the unit is not ready for diving. Flashing green light (once a second): Searching for GPS lock. The unit is not ready to dive. Fixed green light: GPS lock is acheived. The unit is ready to dive. Flashing green light (slow): GPS lock has been acheived but lost. The unit is ready to dive. Pulsating green light : The Locator-U1 is charging. The unit is not ready to dive. See charge description above. Fast flashing green light (multiple times pr second): Error indication. The unit is not ready to dive. Typically this is caused by exceeding dive time and the pressure sensor needing to dry. Charging the Locator is the fastest way to dry the pressure sensor. Warning The Locator-U1 can only be submerged for about 6 hours. It then needs to dry the pressure sensor in order to give correct depth readings.","title":"LED Signals"},{"location":"locators/locator-u1/#wiring-interface","text":"Because the U1 is battery powered the only interface for it is the charing port which is a standard USB-C type connector.","title":"Wiring interface"},{"location":"locators/locator-u1/#included-in-package","text":"Locator-U1 USB-C charging cable Bracket for mounting","title":"Included in package"},{"location":"locators/locator-u1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"modems/modem-m64-protocol/","text":"Modem-M64 serial protocol This document describes the Water Linked Underwater Modem Link Layer protocol. Terminology Modem - Unit for transmitting/receiving data Packet - Unit of data transmitted together ACK - Acknowledgement. The command issued was successful. NAK - Negative acknowledgement. The command issued failed. Version This document describes protocol/software version 1,0,x (major,minor,patch) The protocol versioning follows semantic versioning in that: MAJOR version increments represents incompatible API changes, MINOR version increments represents added functionality in a backwards-compatible manner PATCH version increments represents backwards-compatible bug fixes Overview The serial communication format is 115200 8-N-1 (no hardware flow control). Packets sent to and received from the modem start with a w and end with end with LF or CR+LF. The packet format is: Start byte Direction Command Options (0 to many) Checksum End byte w c or r x ,[option] *xx \\n or \\r\\n Direction is command ( c ) for commands issued to the modem and the modem replies with direction set to response ( r ). The commands can be sent as a string or entered one char at a time from a terminal. The protocol can support Water Linked modems with different payload sizes and extended features. To support any Water Linked modem the connection procedure is to: Get protocol version. Verify that the major version number is 1. Get payload size. Use this size when queuing packets for transmission the modem. For Water Linked Modem-M64 the payload size is 8 bytes. In order for two modems to communicate they must be configured to use different roles (A/B) on the same channel. The modem with role A will always transmit. The modem will role B will listen until it detects a signal from a modem of role A. It will then start transmitting responses back to the modem with role A. The modem with role B will go back to listen mode if several consecutive packets from the modem with role A cannot be decoded (ie signal is lost). Note Payload where every byte is \\0 is reserved. It is used to keep modems in sync if no data packet is queued by the user. This sync packet is filtered out by the receiver. Avoid this payload by compressing the data or otherwise ensuring atleast 1 bit is non-zero. Checksum is optional when sending commands to the modem. The modem always returns a checksum. The checksum algorithm is CRC-8 and it is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ). Commands Commands in the table are shown without the checksum for readability. Command Description Response Description wcv Get protocol version wrv, [major],[minor],[patch] Protocol version. eg: wrv,1,0,1 wcn Get supported payload size wrn, [size] Where size is supported payload size: eg: wrn,8 wcc Get modem configuration wrc, [role],[channel] Where role=a or b and channel=1-7 eg: wrc,a,3 wcs, [role],[channel] Set modem configuration - Where role=a or b and channel 1-7: eg: wrs,b,3 wrs,a or wrs,n ACK or NAK wcl Get transmit queue length wrl, [q] Number of packets currently queued for transmission. eg: wrl,107 wcf Flush transmit queue wrf,a or wrf,n ACK or NAK wcd Get diagnostic wrd, [link],[packet_count],[packet_loss_count],[bit_error_rate] link=y if connection with other modem, otherwise n. eg: wrd,y,1234,17,3.5 [1] wcq, [size],[payload] Queue packet for transmission. Number of characters in payload need to be exactly same as size. Payload can be binary. eg: wcq,8,HelloSea [2] wrq,a or wrq,n ACK or NAK wrp, [size],[payload] Got packet from other modem eg: wrp,8,Welcome! wr? Malformed request: Response when packet cannot be understood wr! Malformed request: Packet does not match the given checksum [1] packet_count is the number of packets received. If a packet cannot be decoded the packet_loss_count increments regardless of the packet being queued data or a sync packet from the other modem. [2] Payload with just zeros ( \\0 ) is reseved for keeping the modems in sync if no packet is queued. It will be filtered out by the receiving modem. Examples Here is an example of setting up two modems and sending packets between them. On top side modem (using role A): Command Response Description wcv wrv,1,0,1*44 Get protocol version wcn wrn,8*ba Get payload size wcs,a,3 wrs,a*01 Set role A and channel 3 wcq,8,HelloSea wrq,a*d7 Send packet Wait packet from other modem wrp,8,HelloTop*bb Got response On AUV/ROV modem (using role B): Command Response Description wcv wrv,1,0,1*44 Get protocol version wcn wrn,8*ba Get payload size wcs,b,3 wrs,a*01 Set role B and channel 3 Wait packet from other modem wrp,8,HelloSea*58 Got packet wcq,8,HelloTop wrq,a*d7 Send response back","title":"Protocol"},{"location":"modems/modem-m64-protocol/#modem-m64-serial-protocol","text":"This document describes the Water Linked Underwater Modem Link Layer protocol.","title":"Modem-M64 serial protocol"},{"location":"modems/modem-m64-protocol/#terminology","text":"Modem - Unit for transmitting/receiving data Packet - Unit of data transmitted together ACK - Acknowledgement. The command issued was successful. NAK - Negative acknowledgement. The command issued failed.","title":"Terminology"},{"location":"modems/modem-m64-protocol/#version","text":"This document describes protocol/software version 1,0,x (major,minor,patch) The protocol versioning follows semantic versioning in that: MAJOR version increments represents incompatible API changes, MINOR version increments represents added functionality in a backwards-compatible manner PATCH version increments represents backwards-compatible bug fixes","title":"Version"},{"location":"modems/modem-m64-protocol/#overview","text":"The serial communication format is 115200 8-N-1 (no hardware flow control). Packets sent to and received from the modem start with a w and end with end with LF or CR+LF. The packet format is: Start byte Direction Command Options (0 to many) Checksum End byte w c or r x ,[option] *xx \\n or \\r\\n Direction is command ( c ) for commands issued to the modem and the modem replies with direction set to response ( r ). The commands can be sent as a string or entered one char at a time from a terminal. The protocol can support Water Linked modems with different payload sizes and extended features. To support any Water Linked modem the connection procedure is to: Get protocol version. Verify that the major version number is 1. Get payload size. Use this size when queuing packets for transmission the modem. For Water Linked Modem-M64 the payload size is 8 bytes. In order for two modems to communicate they must be configured to use different roles (A/B) on the same channel. The modem with role A will always transmit. The modem will role B will listen until it detects a signal from a modem of role A. It will then start transmitting responses back to the modem with role A. The modem with role B will go back to listen mode if several consecutive packets from the modem with role A cannot be decoded (ie signal is lost). Note Payload where every byte is \\0 is reserved. It is used to keep modems in sync if no data packet is queued by the user. This sync packet is filtered out by the receiver. Avoid this payload by compressing the data or otherwise ensuring atleast 1 bit is non-zero. Checksum is optional when sending commands to the modem. The modem always returns a checksum. The checksum algorithm is CRC-8 and it is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ).","title":"Overview"},{"location":"modems/modem-m64-protocol/#commands","text":"Commands in the table are shown without the checksum for readability. Command Description Response Description wcv Get protocol version wrv, [major],[minor],[patch] Protocol version. eg: wrv,1,0,1 wcn Get supported payload size wrn, [size] Where size is supported payload size: eg: wrn,8 wcc Get modem configuration wrc, [role],[channel] Where role=a or b and channel=1-7 eg: wrc,a,3 wcs, [role],[channel] Set modem configuration - Where role=a or b and channel 1-7: eg: wrs,b,3 wrs,a or wrs,n ACK or NAK wcl Get transmit queue length wrl, [q] Number of packets currently queued for transmission. eg: wrl,107 wcf Flush transmit queue wrf,a or wrf,n ACK or NAK wcd Get diagnostic wrd, [link],[packet_count],[packet_loss_count],[bit_error_rate] link=y if connection with other modem, otherwise n. eg: wrd,y,1234,17,3.5 [1] wcq, [size],[payload] Queue packet for transmission. Number of characters in payload need to be exactly same as size. Payload can be binary. eg: wcq,8,HelloSea [2] wrq,a or wrq,n ACK or NAK wrp, [size],[payload] Got packet from other modem eg: wrp,8,Welcome! wr? Malformed request: Response when packet cannot be understood wr! Malformed request: Packet does not match the given checksum [1] packet_count is the number of packets received. If a packet cannot be decoded the packet_loss_count increments regardless of the packet being queued data or a sync packet from the other modem. [2] Payload with just zeros ( \\0 ) is reseved for keeping the modems in sync if no packet is queued. It will be filtered out by the receiving modem.","title":"Commands"},{"location":"modems/modem-m64-protocol/#examples","text":"Here is an example of setting up two modems and sending packets between them. On top side modem (using role A): Command Response Description wcv wrv,1,0,1*44 Get protocol version wcn wrn,8*ba Get payload size wcs,a,3 wrs,a*01 Set role A and channel 3 wcq,8,HelloSea wrq,a*d7 Send packet Wait packet from other modem wrp,8,HelloTop*bb Got response On AUV/ROV modem (using role B): Command Response Description wcv wrv,1,0,1*44 Get protocol version wcn wrn,8*ba Get payload size wcs,b,3 wrs,a*01 Set role B and channel 3 Wait packet from other modem wrp,8,HelloSea*58 Got packet wcq,8,HelloTop wrq,a*d7 Send response back","title":"Examples"},{"location":"modems/modem-m64/","text":"Modem-M64 Description The Modem M64 is a two-way half-duplex 64bps acoustic modem with a robust and user configurable data link. The M64 sets a new market standard with its record-breaking physical size, low power requirement and cost. All this combined with a very useful technical specification, the M64 opens new possibilities for underwater communication in both existing and new areas. Key specifications Two-way communication 64 bit per second net data link, both ways Latency 1.5 \u2013 2.5 sec 200 meter range LED Signals No green light: Power is off. Flashing green light (every 3 seconds): Modem is trying to pair with another modem. Fixed green light: Modem has sync with another modem. The LED will blink each time it receives a packet from the other modem (once a second). Wiring interface The tables below shows the pinning of the Modem-M64 interface. Interface Color Positive (10-18V) Orange Negative/Ground Orange/White UART RX Brown UART TX Brown/White Terminal Interface The Modem-M64 has a 3.3 volt UART interface. Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None Channels Modem M64 supports channels 1-7. Channel overveiw can be found here . Libraries and code examples Example code and libraries that can be used to communicate with the modem on the terminal interface: Python Dimensions","title":"Modem-M64"},{"location":"modems/modem-m64/#modem-m64","text":"","title":"Modem-M64"},{"location":"modems/modem-m64/#description","text":"The Modem M64 is a two-way half-duplex 64bps acoustic modem with a robust and user configurable data link. The M64 sets a new market standard with its record-breaking physical size, low power requirement and cost. All this combined with a very useful technical specification, the M64 opens new possibilities for underwater communication in both existing and new areas.","title":"Description"},{"location":"modems/modem-m64/#key-specifications","text":"Two-way communication 64 bit per second net data link, both ways Latency 1.5 \u2013 2.5 sec 200 meter range","title":"Key specifications"},{"location":"modems/modem-m64/#led-signals","text":"No green light: Power is off. Flashing green light (every 3 seconds): Modem is trying to pair with another modem. Fixed green light: Modem has sync with another modem. The LED will blink each time it receives a packet from the other modem (once a second).","title":"LED Signals"},{"location":"modems/modem-m64/#wiring-interface","text":"The tables below shows the pinning of the Modem-M64 interface. Interface Color Positive (10-18V) Orange Negative/Ground Orange/White UART RX Brown UART TX Brown/White","title":"Wiring interface"},{"location":"modems/modem-m64/#terminal-interface","text":"The Modem-M64 has a 3.3 volt UART interface. Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None","title":"Terminal Interface"},{"location":"modems/modem-m64/#channels","text":"Modem M64 supports channels 1-7. Channel overveiw can be found here .","title":"Channels"},{"location":"modems/modem-m64/#libraries-and-code-examples","text":"Example code and libraries that can be used to communicate with the modem on the terminal interface: Python","title":"Libraries and code examples"},{"location":"modems/modem-m64/#dimensions","text":"","title":"Dimensions"},{"location":"underwater-gps/bluerov-integration/","text":"Introduction The revised Water Linked Underwater GPS is designed with a connection interface that has power-line communication (PLC) capabilities through the BlueROV2 Integration Kit . The Water Linked BlueROV2 Integration Kit provides the necessary components to seamlessly connect the BlueROV2 and the Underwater GPS. The following steps specifically covers using the BlueROV2 Integration Kit to connect the Underwater GPS with the BlueRobotics BlueROV2. For other configurations, see BlueROV2 integration without integration kit . Parts and tools The Locator-A1 and Locator-U1 are the only Locators that will work together with the BlueROV2 Integration Kit as the Locator bulkhead on the Underwater GPS will be altered and used for connection to the BlueROV2. For other Locators, see BlueROV2 integration without integration kit . You will need BlueROV2 Hex Key Set Penetrator Wrench BlueROV2 Integration Kit You will also need: #1 Phillips head screwdriver Optional: Bottle of threadlocker Soldering iron Installing the Locator-A1 on the BlueROV2 You will need to install the Locator-A1 on the BlueROV2 using components from the BlueROV2 Integration Kit. The Locator will use one of the spare cable penetrations in the back of the BlueROV2 and will connect to the spare green and white twisted pair in the tether. Note The Locator-A1 requires a mounting bracket to attach it to the BlueROV2. You can find a 3D model of a suitable mounting bracket here which you can 3D print as is, or modify to your needs. Alternatively you can simply attach the Locator-A1 to the BlueROV2 using zip ties. Just make sure the Locator-A1 has free line-of-sight towards the Receivers near the surface. Removing a blank penetrator To remove a blank penetrator from your BlueROV2, you will need the following tools: 2.5 mm hex driver #1 Phillips head screwdriver Penetrator wrench To ensure your ROV is completely powered off, please remove the battery completely from the 3\u201d enclosure and place to the side. Remove the fairings and buoyancy blocks by removing the self-tapping screws that hold the fairings to the frame. Remove the 4\u201d electronics enclosure from the ROV by removing the M3x16 screws that mount the enclosure to the ROV cradle. Remove the Vent Plug from the Vent Penetrator Bolt on the electronics enclosure. Remove the 4\u2033 tube and forward dome assembly from the rear end cap. Remove the blank penetrator as pictured from the 4\u201d End Cap with the penetrator wrench that came with the BlueROV2 kit. Install Locator-A1 penetrator To install Locator-A1 into the end cap, you will need the following parts and tools: Locator-A1 with pre-installed cable penetrator Penetrator Nut (Black) Penetrator O-ring Silicone Grease \u2013 10g Tube Isopropyl Alcohol Wipe Penetrator wrench Wipe the exterior surface of the electronics enclosure end cap clean with isopropyl alcohol or isopropyl alcohol wipes, and make sure it is free of any particles in the areas where the penetrator O-ring will sit. Remove the O-ring from the bag and apply silicone grease to it. Install the O-ring onto the Locator-A1 cable penetrator. Install the Locator-A1 cable penetrator on to the end cap in the hole you previously removed the blank penetrator from. Tighten to finger tight, then use the provided wrench to tighten it an additional ~1/16 of a turn. If you can\u2019t loosen it with your fingers, it is tight enough. Using the pre-crimped header pin connector on the Locator-A1, connect the Locator wires (green/white) to a spare twisted pair of the tether (green/white). Reasemble BlueROV2 electronics enclosure To reassemble your BlueROV2 Electronics Enclosure, you will need the following parts and tools: 4 x M3x16 screws that were placed off to the side during disassembly Silicone Grease \u2013 10g Tube 2.5 mm hex driver Reinstall 4\u201d Watertight Enclosure onto ROV with the following steps: Apply silicone grease to the two radial O-rings on the O-Ring Flange (4\u201d Series) that is attached to the Electronics Tray then install the Watertight Enclosure (4\u201d Series) with installed Dome End Cap to the O-Ring Flange (4\u201d Series). Mount the Electronics Enclosure to the frame using the M3x16 screws so that the dome is on the same side as the front center panels (the center panels without the 3 large holes). Install the M3x16 screws through the clips and into the Enclosure Cradle (4\u201d Series). It is easier to install these screws if the clips are not fully tightened until all screws are through the clips and threading into the Enclosure Cradle (4\u201d Series). This allows clips to rotate so you can find the threaded hole in the Enclosure Cradle (4\u201d Series) easily. Mounting the Locator-A1 to the BlueROV2 frame To mount the Locator-A1 to the BlueROV2 frame, you will need the following parts and tools: Aluminum Locator-A1 mounting bracket (2 halves)4 x M3x16 socket head cap screws (Not included) 2 x M5x12 button head cap screws 2.5 mm hex driver 3 mm hex driver (Optional) Bottle of threadlocker Route the Locator to one side of the ROV. Attach the aluminum mounting bracket to the Locator-A1 using the M3x16 socket head screws. (Optional) add threadlocker to screw threads before securing. Secure the mounting bracket to the existing holes on the ROV frame. Modifications inside Underwater GPS housing Connecting ethernet cable To connect ethernet from the Interface Electronics board to the Master Electronics board, you will need the following part: Ethernet cable (included in the BlueROV2 Integration Kit) Locate the ethernet ports on the Interface Electronics board and the Master Electronics board. Connect the included ethernet cable to the two ports. Installing the PLC module To install the PLC module to the Interface Electronics board, you will need the following part: LX200V30 PLC Homeplug module with press-fit standoffs(included in the BlueROV2 Integration Kit) Locate the socket for the Homeplug module on the Interface board. Press the PLC module into the socket, making sure that the press-fit standoffs latch into the holes in the Interface Electronics board. Interface Electronics modification (Optional) Warning Skipping this step leaves a regulated 12V power source from the Underwater GPS on the PLC lines (pins 1 (GND) and 2 (12V) on the Locator bulkhead). Connecting non-isolated equipment to the PLC lines may damage the Underwater GPS or any external equipment. The Interface Electronics board in the Underwater GPS housing comes with the resistors R2 and R3 attached. These put GND on pin 1 and 12V on pin 2 of the bulkhead connector with the label \u201cLocator\u201d. The configuration of the FXTI, BlueROV2 and the Locator-A1 as presented in this guide is not affected by leaving these resistors on the board. In any other configuration, you should assess whether or not removing R2 and R3 is necessary for safe operation. Modifications to FXTI The connections made inside the FXTI will connect the ROV, Topside Computer, and Water Linked systems to each other. Here\u2019s a high level diagram of what that will look like: To enable connection between the Underwater GPS and the FXTI, you need the following parts and tools: Bulkhead wire assembly (included in the BlueROV2 Integration Kit) Brown/white jumper lead (included in the BlueROV2 Integration Kit) 2 mm hex driver Unscrew the bulkhead panel from the FXTI and remove one of the black plastic plugs from one of the auxiliary ports. Thread the FXTI Binder pigtail wire assembly into the open port and secure in place with the included bulkhead nut. Connect the blue and white wire pair into the FXTI Tether Connection PCB matching the orientation of the pre-installed blue and white wire connections. Connect the green and green/white Locator-A1 wire pair into the brown and brown/white pair on the Binder connector pigtail with the included female-to-female adapter. Reassemble the FXTI box. ArduSub Companion software update To work properly, the Water Linked UGPS system requires ArduSub Companion image version 0.0.21 or newer and the most recent stable release of QGroundControl for your operating system. If your Companion image is out of date, please follow the BlueROV2 Software Update procedures . Software setup Configure the Water Linked system with a static IP address of 192.168.2.94 according to the Network section of the Water Linked Documentation. Connect the topside computer to the FXTI. Connect the BlueROV2 to the FXTI and power the BlueROV2 normally. Connect the FXTI to the Water Linked Box using the 3m deck extension cable from the BlueROV2 Integration Kit. Follow the Quickstart from the Water Linked Documentation for: Powering the Water Linked box. Calibrating the IMU. Deploying receivers. Making Receiver-D1 connections to the box. To configure the receiver location Water Linked Underwater GPS system, navigate to http://192.168.2.94/#/receivers in your browser. Please refer to the Receivers section for further information on configuration. Power on the BlueROV2 and dive so the Locator is submerged a few inches below the surface. If everything is operating correctly, you should now find an ROV position on the map in QGroundControl. The ROV position is indicated by a BlueROV2 image. The position of the surface vessel or Water Linked Master Electronics housing is indicated by a red arrow. The small \u2018H\u2019 icon indicates the \u2018home position\u2019, the location of the ROV\u2019s first GPS lock. Troubleshooting No External Depth error If the error message No external depth received. Is it being sent correctly? is displayed in the UGPS UI, then conduct the following: Ensure you are using the latest versions of ArduSub Companion and QGroundControl: Update Software In the Companion Web Interface, go to the MAVProxy page: http://192.168.2.2:2770/mavproxy Click on the \u201cRestore Default Options\u201d button. Power cycle the BlueROV2. Water Linked software update Check the Water Linked system for available software updates. You can check the Underwater GPS software version at 192.168.2.94/#/about . The update process is documented in the Software Update section . BlueROV2 integration without integration kit It is possible to integrate the Underwater GPS G2 with the BlueROV2 without the BlueROV2 Integration Kit. What you need to make sure is that the Underwater GPS G2 and the BlueROV2 is on the same network. This can be achieved using a networking cable from the Master Electronics inside the Topside Housing to the computer which is connected to the FXTI. You will have to configure a bridged connection between the two networking interfaces for the Underwater GPS G2 to be able to communicate with the BlueROV2 through the computer. Locator-U1 The Locator-U1 is a battery powered and has an integrated depth sensor, therefore you only need to charge it, attach it to the BlueROV2, turn it on, and configure it in the Underwater GPS GUI . Locator-A1 The Locator-A1 needs to be integrated with the BlueROV2 following the steps in Installing the Locator-A1 above. Since the Locator-A1 signals goes through the BlueROV2 tether and enters the FXTI, you will have to route the Locator-A1 signals to the Locator bulkhead on the Underwater GPS G2. The bulkheads on the Underwater GPS G2 mates with Binder 770 Series NNC Miniature Cable Connectors and uses pins 7 and 8 for the Locator-A1 signals. For the signal integrity of the Locator-A1 signal, use a Cat5e cable between the Topside and the FXTI. Using the Locator-A1, you will also need to provide external depth. See Providing depth to system when using Locator-A1/S1 for more information. Locator-D1 The Locator-D1 comes with a seperate cable which must run parallel with the BlueROV2 tether to the Topside. Since the Locator-D1 is a stand-alone unit, no further integration with the BlueROV2 is needed. Locator-S1 As with Locator-A1, you will have to provide external depth. See Providing depth to system when using Locator-A1/S1 for more information. The Locator-S1 cable will also have to run alongside the BlueROV2 tether up to the Topside unit.","title":"BlueROV2 integration"},{"location":"underwater-gps/bluerov-integration/#introduction","text":"The revised Water Linked Underwater GPS is designed with a connection interface that has power-line communication (PLC) capabilities through the BlueROV2 Integration Kit . The Water Linked BlueROV2 Integration Kit provides the necessary components to seamlessly connect the BlueROV2 and the Underwater GPS. The following steps specifically covers using the BlueROV2 Integration Kit to connect the Underwater GPS with the BlueRobotics BlueROV2. For other configurations, see BlueROV2 integration without integration kit .","title":"Introduction"},{"location":"underwater-gps/bluerov-integration/#parts-and-tools","text":"The Locator-A1 and Locator-U1 are the only Locators that will work together with the BlueROV2 Integration Kit as the Locator bulkhead on the Underwater GPS will be altered and used for connection to the BlueROV2. For other Locators, see BlueROV2 integration without integration kit .","title":"Parts and tools"},{"location":"underwater-gps/bluerov-integration/#you-will-need","text":"BlueROV2 Hex Key Set Penetrator Wrench BlueROV2 Integration Kit You will also need: #1 Phillips head screwdriver Optional: Bottle of threadlocker Soldering iron","title":"You will need"},{"location":"underwater-gps/bluerov-integration/#installing-the-locator-a1-on-the-bluerov2","text":"You will need to install the Locator-A1 on the BlueROV2 using components from the BlueROV2 Integration Kit. The Locator will use one of the spare cable penetrations in the back of the BlueROV2 and will connect to the spare green and white twisted pair in the tether. Note The Locator-A1 requires a mounting bracket to attach it to the BlueROV2. You can find a 3D model of a suitable mounting bracket here which you can 3D print as is, or modify to your needs. Alternatively you can simply attach the Locator-A1 to the BlueROV2 using zip ties. Just make sure the Locator-A1 has free line-of-sight towards the Receivers near the surface.","title":"Installing the Locator-A1 on the BlueROV2"},{"location":"underwater-gps/bluerov-integration/#removing-a-blank-penetrator","text":"To remove a blank penetrator from your BlueROV2, you will need the following tools: 2.5 mm hex driver #1 Phillips head screwdriver Penetrator wrench To ensure your ROV is completely powered off, please remove the battery completely from the 3\u201d enclosure and place to the side. Remove the fairings and buoyancy blocks by removing the self-tapping screws that hold the fairings to the frame. Remove the 4\u201d electronics enclosure from the ROV by removing the M3x16 screws that mount the enclosure to the ROV cradle. Remove the Vent Plug from the Vent Penetrator Bolt on the electronics enclosure. Remove the 4\u2033 tube and forward dome assembly from the rear end cap. Remove the blank penetrator as pictured from the 4\u201d End Cap with the penetrator wrench that came with the BlueROV2 kit.","title":"Removing a blank penetrator"},{"location":"underwater-gps/bluerov-integration/#install-locator-a1-penetrator","text":"To install Locator-A1 into the end cap, you will need the following parts and tools: Locator-A1 with pre-installed cable penetrator Penetrator Nut (Black) Penetrator O-ring Silicone Grease \u2013 10g Tube Isopropyl Alcohol Wipe Penetrator wrench Wipe the exterior surface of the electronics enclosure end cap clean with isopropyl alcohol or isopropyl alcohol wipes, and make sure it is free of any particles in the areas where the penetrator O-ring will sit. Remove the O-ring from the bag and apply silicone grease to it. Install the O-ring onto the Locator-A1 cable penetrator. Install the Locator-A1 cable penetrator on to the end cap in the hole you previously removed the blank penetrator from. Tighten to finger tight, then use the provided wrench to tighten it an additional ~1/16 of a turn. If you can\u2019t loosen it with your fingers, it is tight enough. Using the pre-crimped header pin connector on the Locator-A1, connect the Locator wires (green/white) to a spare twisted pair of the tether (green/white).","title":"Install Locator-A1 penetrator"},{"location":"underwater-gps/bluerov-integration/#reasemble-bluerov2-electronics-enclosure","text":"To reassemble your BlueROV2 Electronics Enclosure, you will need the following parts and tools: 4 x M3x16 screws that were placed off to the side during disassembly Silicone Grease \u2013 10g Tube 2.5 mm hex driver Reinstall 4\u201d Watertight Enclosure onto ROV with the following steps: Apply silicone grease to the two radial O-rings on the O-Ring Flange (4\u201d Series) that is attached to the Electronics Tray then install the Watertight Enclosure (4\u201d Series) with installed Dome End Cap to the O-Ring Flange (4\u201d Series). Mount the Electronics Enclosure to the frame using the M3x16 screws so that the dome is on the same side as the front center panels (the center panels without the 3 large holes). Install the M3x16 screws through the clips and into the Enclosure Cradle (4\u201d Series). It is easier to install these screws if the clips are not fully tightened until all screws are through the clips and threading into the Enclosure Cradle (4\u201d Series). This allows clips to rotate so you can find the threaded hole in the Enclosure Cradle (4\u201d Series) easily.","title":"Reasemble BlueROV2 electronics enclosure"},{"location":"underwater-gps/bluerov-integration/#mounting-the-locator-a1-to-the-bluerov2-frame","text":"To mount the Locator-A1 to the BlueROV2 frame, you will need the following parts and tools: Aluminum Locator-A1 mounting bracket (2 halves)4 x M3x16 socket head cap screws (Not included) 2 x M5x12 button head cap screws 2.5 mm hex driver 3 mm hex driver (Optional) Bottle of threadlocker Route the Locator to one side of the ROV. Attach the aluminum mounting bracket to the Locator-A1 using the M3x16 socket head screws. (Optional) add threadlocker to screw threads before securing. Secure the mounting bracket to the existing holes on the ROV frame.","title":"Mounting the Locator-A1 to the BlueROV2 frame"},{"location":"underwater-gps/bluerov-integration/#modifications-inside-underwater-gps-housing","text":"","title":"Modifications inside Underwater GPS housing"},{"location":"underwater-gps/bluerov-integration/#connecting-ethernet-cable","text":"To connect ethernet from the Interface Electronics board to the Master Electronics board, you will need the following part: Ethernet cable (included in the BlueROV2 Integration Kit) Locate the ethernet ports on the Interface Electronics board and the Master Electronics board. Connect the included ethernet cable to the two ports.","title":"Connecting ethernet cable"},{"location":"underwater-gps/bluerov-integration/#installing-the-plc-module","text":"To install the PLC module to the Interface Electronics board, you will need the following part: LX200V30 PLC Homeplug module with press-fit standoffs(included in the BlueROV2 Integration Kit) Locate the socket for the Homeplug module on the Interface board. Press the PLC module into the socket, making sure that the press-fit standoffs latch into the holes in the Interface Electronics board.","title":"Installing the PLC module"},{"location":"underwater-gps/bluerov-integration/#interface-electronics-modification-optional","text":"Warning Skipping this step leaves a regulated 12V power source from the Underwater GPS on the PLC lines (pins 1 (GND) and 2 (12V) on the Locator bulkhead). Connecting non-isolated equipment to the PLC lines may damage the Underwater GPS or any external equipment. The Interface Electronics board in the Underwater GPS housing comes with the resistors R2 and R3 attached. These put GND on pin 1 and 12V on pin 2 of the bulkhead connector with the label \u201cLocator\u201d. The configuration of the FXTI, BlueROV2 and the Locator-A1 as presented in this guide is not affected by leaving these resistors on the board. In any other configuration, you should assess whether or not removing R2 and R3 is necessary for safe operation.","title":"Interface Electronics modification (Optional)"},{"location":"underwater-gps/bluerov-integration/#modifications-to-fxti","text":"The connections made inside the FXTI will connect the ROV, Topside Computer, and Water Linked systems to each other. Here\u2019s a high level diagram of what that will look like: To enable connection between the Underwater GPS and the FXTI, you need the following parts and tools: Bulkhead wire assembly (included in the BlueROV2 Integration Kit) Brown/white jumper lead (included in the BlueROV2 Integration Kit) 2 mm hex driver Unscrew the bulkhead panel from the FXTI and remove one of the black plastic plugs from one of the auxiliary ports. Thread the FXTI Binder pigtail wire assembly into the open port and secure in place with the included bulkhead nut. Connect the blue and white wire pair into the FXTI Tether Connection PCB matching the orientation of the pre-installed blue and white wire connections. Connect the green and green/white Locator-A1 wire pair into the brown and brown/white pair on the Binder connector pigtail with the included female-to-female adapter. Reassemble the FXTI box.","title":"Modifications to FXTI"},{"location":"underwater-gps/bluerov-integration/#ardusub-companion-software-update","text":"To work properly, the Water Linked UGPS system requires ArduSub Companion image version 0.0.21 or newer and the most recent stable release of QGroundControl for your operating system. If your Companion image is out of date, please follow the BlueROV2 Software Update procedures .","title":"ArduSub Companion software update"},{"location":"underwater-gps/bluerov-integration/#software-setup","text":"Configure the Water Linked system with a static IP address of 192.168.2.94 according to the Network section of the Water Linked Documentation. Connect the topside computer to the FXTI. Connect the BlueROV2 to the FXTI and power the BlueROV2 normally. Connect the FXTI to the Water Linked Box using the 3m deck extension cable from the BlueROV2 Integration Kit. Follow the Quickstart from the Water Linked Documentation for: Powering the Water Linked box. Calibrating the IMU. Deploying receivers. Making Receiver-D1 connections to the box. To configure the receiver location Water Linked Underwater GPS system, navigate to http://192.168.2.94/#/receivers in your browser. Please refer to the Receivers section for further information on configuration. Power on the BlueROV2 and dive so the Locator is submerged a few inches below the surface. If everything is operating correctly, you should now find an ROV position on the map in QGroundControl. The ROV position is indicated by a BlueROV2 image. The position of the surface vessel or Water Linked Master Electronics housing is indicated by a red arrow. The small \u2018H\u2019 icon indicates the \u2018home position\u2019, the location of the ROV\u2019s first GPS lock.","title":"Software setup"},{"location":"underwater-gps/bluerov-integration/#troubleshooting","text":"","title":"Troubleshooting"},{"location":"underwater-gps/bluerov-integration/#no-external-depth-error","text":"If the error message No external depth received. Is it being sent correctly? is displayed in the UGPS UI, then conduct the following: Ensure you are using the latest versions of ArduSub Companion and QGroundControl: Update Software In the Companion Web Interface, go to the MAVProxy page: http://192.168.2.2:2770/mavproxy Click on the \u201cRestore Default Options\u201d button. Power cycle the BlueROV2.","title":"No External Depth error"},{"location":"underwater-gps/bluerov-integration/#water-linked-software-update","text":"Check the Water Linked system for available software updates. You can check the Underwater GPS software version at 192.168.2.94/#/about . The update process is documented in the Software Update section .","title":"Water Linked software update"},{"location":"underwater-gps/bluerov-integration/#bluerov2-integration-without-integration-kit","text":"It is possible to integrate the Underwater GPS G2 with the BlueROV2 without the BlueROV2 Integration Kit. What you need to make sure is that the Underwater GPS G2 and the BlueROV2 is on the same network. This can be achieved using a networking cable from the Master Electronics inside the Topside Housing to the computer which is connected to the FXTI. You will have to configure a bridged connection between the two networking interfaces for the Underwater GPS G2 to be able to communicate with the BlueROV2 through the computer.","title":"BlueROV2 integration without integration kit"},{"location":"underwater-gps/bluerov-integration/#locator-u1","text":"The Locator-U1 is a battery powered and has an integrated depth sensor, therefore you only need to charge it, attach it to the BlueROV2, turn it on, and configure it in the Underwater GPS GUI .","title":"Locator-U1"},{"location":"underwater-gps/bluerov-integration/#locator-a1","text":"The Locator-A1 needs to be integrated with the BlueROV2 following the steps in Installing the Locator-A1 above. Since the Locator-A1 signals goes through the BlueROV2 tether and enters the FXTI, you will have to route the Locator-A1 signals to the Locator bulkhead on the Underwater GPS G2. The bulkheads on the Underwater GPS G2 mates with Binder 770 Series NNC Miniature Cable Connectors and uses pins 7 and 8 for the Locator-A1 signals. For the signal integrity of the Locator-A1 signal, use a Cat5e cable between the Topside and the FXTI. Using the Locator-A1, you will also need to provide external depth. See Providing depth to system when using Locator-A1/S1 for more information.","title":"Locator-A1"},{"location":"underwater-gps/bluerov-integration/#locator-d1","text":"The Locator-D1 comes with a seperate cable which must run parallel with the BlueROV2 tether to the Topside. Since the Locator-D1 is a stand-alone unit, no further integration with the BlueROV2 is needed.","title":"Locator-D1"},{"location":"underwater-gps/bluerov-integration/#locator-s1","text":"As with Locator-A1, you will have to provide external depth. See Providing depth to system when using Locator-A1/S1 for more information. The Locator-S1 cable will also have to run alongside the BlueROV2 tether up to the Topside unit.","title":"Locator-S1"},{"location":"underwater-gps/hardware/","text":"Hardware Setup Connectors External * Locator-D1 is not compatible with the BlueROV2 Integration Kit . Internal Note NC : Not Connected. DNC : Do Not Connect, pins used for production. GND : Boldface indicate power lines (12 V, 3.3 V, VIN, GND). 40 pin Molex Interface Signal Pin Pin Signal Function GPIO 2* 1 2 GPIO 3 D1 TX+ 3 4 D1 TX- Locator-D1 D1 RX+ 5 6 D1 RX- | GND 7 8 12 V Power out R1 TX+ 9 10 R1 TX- Receiver-D1 R1 RX+ 11 12 R1 RX- | GND 13 14 12 V Power out R2 TX+ 15 16 R2 TX- Receiver-D1 R2 RX+ 17 18 R2 RX- | GND 19 20 12 V Power out R3 TX+ 21 22 R3 TX- Receiver-D1 R3 RX+ 23 24 R3 RX- | GND 25 26 12 V Power out R4 TX+ 27 28 R4 TX- Receiver-D1 R4 RX+ 29 30 R4 RX- | ANT RX 1+ 31 32 ANT RX 1- Antenna ANT RX 2+ 33 34 ANT RX 2- | ANT RX 3+ 35 36 ANT RX 3- | ANT RX 4+ 37 38 ANT RX 4- | A1 TX+ 39 40 A1 TX- Locator-A1 * Used to control relays for switching between Receivers and Antenna. 6 pin NMEA 0183 GPS + PPS Signal Pin Pin Signal GND 1 2 12 V NMEA GPS TX 3 4 NMEA GPS RX NMEA GPS PPS 5 6 GND 6 pin NMEA 0183 Compass Signal Pin Pin Signal GND 1 2 12 V NMEAS COMPASS TX 3 4 NMEA COMPASS RX NC 5 6 GND 6 pin NMEA 0183 Out Signal Pin Pin Signal GND 1 2 12 V NMEA OUT 3 4 NC NC 5 6 GND 16 pin TTL GPIO Signal Pin Pin Signal GND 1 2 12 V DNC 3 4 DNC DNC 5 6 DNC DNC 7 8 DNC GND 9 10 PPS OUT GND 11 12 PPS IN GPIO 0 13 14 GPIO 1 GND 15 16 3.3 V Note TTL voltage: 3.3 V (5.0 V tolerant). 2 pin MicroFit 3.0 Power Signal Pin Pin Signal GND 1 2 VIN * * 10 - 30 VDC, 0.7 A (12 V nominal). Fits Molex Micro-Fit 3.0 43645 series. Receiver-D1 setup Connect the four Receiver-D1 cables to bulkheads marked \"Receiver 1\" to \"Receiver 4\" on the housing. If using the Locator-D1, connect this to the bulkhead marked \"Locator\" on the housing. If using the Locator-A1, connect this to the bulkhead marked \"Locator\" on the housing. If using the Locator-U1, no connections to the housing is needed. Just power the Locator and make sure both status leds on U1 and Master-D1 are solid green. IMU The master electronics has an built in IMU used to provide the orientation of the master electronics. This is used in combination with the acoustic position and GPS to generate the global position of the Locator. IMU Calibration For the IMU to work properly it needs to be calibrated. The calibration data is stored when full calibration is obtained for faster calibration on restart of the system. If the system is started on a new location a new calibration is needed for the IMU to work as intended. To calibrate the IMU disconnect all Recivers and Locator cables, but leave power and Ethernet connected. This is to prevent damaging the cables and connector when performing the calibration. While looking at the top bar in the web GUI on the IMU status, move the peli case in a figure of 8 until all the bars are green.","title":"Hardware"},{"location":"underwater-gps/hardware/#hardware-setup","text":"","title":"Hardware Setup"},{"location":"underwater-gps/hardware/#connectors","text":"","title":"Connectors"},{"location":"underwater-gps/hardware/#external","text":"* Locator-D1 is not compatible with the BlueROV2 Integration Kit .","title":"External"},{"location":"underwater-gps/hardware/#internal","text":"Note NC : Not Connected. DNC : Do Not Connect, pins used for production. GND : Boldface indicate power lines (12 V, 3.3 V, VIN, GND).","title":"Internal"},{"location":"underwater-gps/hardware/#40-pin-molex-interface","text":"Signal Pin Pin Signal Function GPIO 2* 1 2 GPIO 3 D1 TX+ 3 4 D1 TX- Locator-D1 D1 RX+ 5 6 D1 RX- | GND 7 8 12 V Power out R1 TX+ 9 10 R1 TX- Receiver-D1 R1 RX+ 11 12 R1 RX- | GND 13 14 12 V Power out R2 TX+ 15 16 R2 TX- Receiver-D1 R2 RX+ 17 18 R2 RX- | GND 19 20 12 V Power out R3 TX+ 21 22 R3 TX- Receiver-D1 R3 RX+ 23 24 R3 RX- | GND 25 26 12 V Power out R4 TX+ 27 28 R4 TX- Receiver-D1 R4 RX+ 29 30 R4 RX- | ANT RX 1+ 31 32 ANT RX 1- Antenna ANT RX 2+ 33 34 ANT RX 2- | ANT RX 3+ 35 36 ANT RX 3- | ANT RX 4+ 37 38 ANT RX 4- | A1 TX+ 39 40 A1 TX- Locator-A1 * Used to control relays for switching between Receivers and Antenna.","title":"40 pin Molex Interface"},{"location":"underwater-gps/hardware/#6-pin-nmea-0183-gps-pps","text":"Signal Pin Pin Signal GND 1 2 12 V NMEA GPS TX 3 4 NMEA GPS RX NMEA GPS PPS 5 6 GND","title":"6 pin NMEA 0183 GPS + PPS"},{"location":"underwater-gps/hardware/#6-pin-nmea-0183-compass","text":"Signal Pin Pin Signal GND 1 2 12 V NMEAS COMPASS TX 3 4 NMEA COMPASS RX NC 5 6 GND","title":"6 pin NMEA 0183 Compass"},{"location":"underwater-gps/hardware/#6-pin-nmea-0183-out","text":"Signal Pin Pin Signal GND 1 2 12 V NMEA OUT 3 4 NC NC 5 6 GND","title":"6 pin NMEA 0183 Out"},{"location":"underwater-gps/hardware/#16-pin-ttl-gpio","text":"Signal Pin Pin Signal GND 1 2 12 V DNC 3 4 DNC DNC 5 6 DNC DNC 7 8 DNC GND 9 10 PPS OUT GND 11 12 PPS IN GPIO 0 13 14 GPIO 1 GND 15 16 3.3 V Note TTL voltage: 3.3 V (5.0 V tolerant).","title":"16 pin TTL GPIO"},{"location":"underwater-gps/hardware/#2-pin-microfit-30-power","text":"Signal Pin Pin Signal GND 1 2 VIN * * 10 - 30 VDC, 0.7 A (12 V nominal). Fits Molex Micro-Fit 3.0 43645 series.","title":"2 pin MicroFit 3.0 Power"},{"location":"underwater-gps/hardware/#receiver-d1-setup","text":"Connect the four Receiver-D1 cables to bulkheads marked \"Receiver 1\" to \"Receiver 4\" on the housing. If using the Locator-D1, connect this to the bulkhead marked \"Locator\" on the housing. If using the Locator-A1, connect this to the bulkhead marked \"Locator\" on the housing. If using the Locator-U1, no connections to the housing is needed. Just power the Locator and make sure both status leds on U1 and Master-D1 are solid green.","title":"Receiver-D1 setup"},{"location":"underwater-gps/hardware/#imu","text":"The master electronics has an built in IMU used to provide the orientation of the master electronics. This is used in combination with the acoustic position and GPS to generate the global position of the Locator.","title":"IMU"},{"location":"underwater-gps/hardware/#imu-calibration","text":"For the IMU to work properly it needs to be calibrated. The calibration data is stored when full calibration is obtained for faster calibration on restart of the system. If the system is started on a new location a new calibration is needed for the IMU to work as intended. To calibrate the IMU disconnect all Recivers and Locator cables, but leave power and Ethernet connected. This is to prevent damaging the cables and connector when performing the calibration. While looking at the top bar in the web GUI on the IMU status, move the peli case in a figure of 8 until all the bars are green.","title":"IMU Calibration"},{"location":"underwater-gps/introduction/","text":"Introduction Underwater GPS The Underwater GPS G2 is a new and improved version of the Explorer Kit. It provides an even more robust and reliable acoustic positioning system with a range of up to 300m (R300 edition). The purpose of the system is to give a live GPS position of ROVs, divers and other moving objects below the water surface. The Underwater GPS system is based on Short Baseline (SBL) acoustic positioning. A Locator is attached to the device to be positioned and functions as a beacon that send out an acoustic pulse. Near the surface, four Receiver hydrophones are lowered into the water to receive the beacon signal. The Receivers listen for the pulse from the Locator. Time-of-arrival to each Receiver is used to calculate the Locator\u2019s position. SBL systems, compared to USBL systems, have the advantage of working well in shallow water and acoustic reflective environments such as in fish cages, near harbor installations, close to ship hulls, inside water tanks etc. Once the position is known relative to the Receivers, the global position can be found by adding that to the position obtained by a GPS receiver. The Underwater GPS system does that part internally so that it can provide the actual global position of the ROV as it's output. Revision features Increased range up to 300m (R300 version only) Support for quick deploy Antenna WiFi connectivity 2 x IMUs Smaller topside housing Integrated GPS antenna New interface with BlueROV2 integration support Kit content 1 x Underwater GPS Topside housing with Master-D1 and WiFi dongle 4 x Receiver-D1 with 10m cable / 1 x Receiver antenna 1 x Locator U1/A1/D1 1 x 5m power cable Quickstart Getting started with Waterlinked Underwater GPS Discussion If you have more questions which is not answered on this website please go to our forum where we will be happy to answer you. Datasheet Datasheet","title":"Introduction"},{"location":"underwater-gps/introduction/#introduction","text":"","title":"Introduction"},{"location":"underwater-gps/introduction/#underwater-gps","text":"The Underwater GPS G2 is a new and improved version of the Explorer Kit. It provides an even more robust and reliable acoustic positioning system with a range of up to 300m (R300 edition). The purpose of the system is to give a live GPS position of ROVs, divers and other moving objects below the water surface. The Underwater GPS system is based on Short Baseline (SBL) acoustic positioning. A Locator is attached to the device to be positioned and functions as a beacon that send out an acoustic pulse. Near the surface, four Receiver hydrophones are lowered into the water to receive the beacon signal. The Receivers listen for the pulse from the Locator. Time-of-arrival to each Receiver is used to calculate the Locator\u2019s position. SBL systems, compared to USBL systems, have the advantage of working well in shallow water and acoustic reflective environments such as in fish cages, near harbor installations, close to ship hulls, inside water tanks etc. Once the position is known relative to the Receivers, the global position can be found by adding that to the position obtained by a GPS receiver. The Underwater GPS system does that part internally so that it can provide the actual global position of the ROV as it's output.","title":"Underwater GPS"},{"location":"underwater-gps/introduction/#revision-features","text":"Increased range up to 300m (R300 version only) Support for quick deploy Antenna WiFi connectivity 2 x IMUs Smaller topside housing Integrated GPS antenna New interface with BlueROV2 integration support","title":"Revision features"},{"location":"underwater-gps/introduction/#kit-content","text":"1 x Underwater GPS Topside housing with Master-D1 and WiFi dongle 4 x Receiver-D1 with 10m cable / 1 x Receiver antenna 1 x Locator U1/A1/D1 1 x 5m power cable","title":"Kit content"},{"location":"underwater-gps/introduction/#quickstart","text":"Getting started with Waterlinked Underwater GPS","title":"Quickstart"},{"location":"underwater-gps/introduction/#discussion","text":"If you have more questions which is not answered on this website please go to our forum where we will be happy to answer you.","title":"Discussion"},{"location":"underwater-gps/introduction/#datasheet","text":"Datasheet","title":"Datasheet"},{"location":"underwater-gps/network-settings/","text":"Network Settings WiFi The local Underwater GPS WiFi is configured as: Mode : Access Point SSID : UnderwaterGPS Password : waterlinked Security : WPA2-Personal Ethernet At power-up, the Master-D1 reads the IP switch settings. The ethernet network mode depends on the switch position. Network mode Direction IP switch position Configurable UP Static IP 192.168.2.94 DOWN Note The host computer connected to the topside unit needs to have an IP-address on the same subnet as set on the Master-D1. For example: If the IP address of the UGPS is 192.168.2.94 the host computer needs to be configured to a different 192.168.2.x address e.g. 192.168.2.100.","title":"Network settings"},{"location":"underwater-gps/network-settings/#network-settings","text":"","title":"Network Settings"},{"location":"underwater-gps/network-settings/#wifi","text":"The local Underwater GPS WiFi is configured as: Mode : Access Point SSID : UnderwaterGPS Password : waterlinked Security : WPA2-Personal","title":"WiFi"},{"location":"underwater-gps/network-settings/#ethernet","text":"At power-up, the Master-D1 reads the IP switch settings. The ethernet network mode depends on the switch position. Network mode Direction IP switch position Configurable UP Static IP 192.168.2.94 DOWN Note The host computer connected to the topside unit needs to have an IP-address on the same subnet as set on the Master-D1. For example: If the IP address of the UGPS is 192.168.2.94 the host computer needs to be configured to a different 192.168.2.x address e.g. 192.168.2.100.","title":"Ethernet"},{"location":"underwater-gps/power-supply/","text":"Power supply The Underwater GPS G2 can be powered using either the provided power cable connected to a 12VDC source, or with a battery (not provided). Power cable Connector position Manufacturer Part number Underwater GPS Housing Switchcraft 17282-2PG-300 Power cable Switchcraft CARA162802S19790 The power cable comes with a blunt cut end. Strip the jacket and connect the wires to your favorite 12V power source. Black Negative White Positive Voltage 10V \u2013 30V Current 0.7A (12V nominal) Protection Reverse polarity Both the power button and the power input can be found on the right side of the Underwater GPS housing. The power button will illuminate when the power is switched on. Note There is both an external latching power button and an internal power switch. These are OR configured, meaning they override each other. By default, the internal power switch is in the OFF position. Battery A battery may be used instead of wired power. Use a battery with a nominal voltage within the voltage range. A Molex-to-XT60 cable assembly is provided with the Underwater GPS kit for ease of connection to battery packs with XT60 connectors. The battery pack can be secured within the Underwater GPS housing using the provided non-slip battery strap. Maximum battery width: 50 mm (2\"). Power usage The power usage of the Underwater GPS G2 will vary based on the supplied voltage, Receiver and Locator setup, and whether or not the BlueROV2 Integration Kit has been installed. The table below list the average current consumption for components used with Underwater GPS G2, assuming an input voltage of 12 VDC. Component Current consumption (12V in) Master Electronics 250 mA Locator-A1 10 mA Locator-D1 130 mA Locator-S1 60 mA 4x Receiver-D1 4x35 mA Antenna 20 mA","title":"Power supply"},{"location":"underwater-gps/power-supply/#power-supply","text":"The Underwater GPS G2 can be powered using either the provided power cable connected to a 12VDC source, or with a battery (not provided).","title":"Power supply"},{"location":"underwater-gps/power-supply/#power-cable","text":"Connector position Manufacturer Part number Underwater GPS Housing Switchcraft 17282-2PG-300 Power cable Switchcraft CARA162802S19790 The power cable comes with a blunt cut end. Strip the jacket and connect the wires to your favorite 12V power source. Black Negative White Positive Voltage 10V \u2013 30V Current 0.7A (12V nominal) Protection Reverse polarity Both the power button and the power input can be found on the right side of the Underwater GPS housing. The power button will illuminate when the power is switched on. Note There is both an external latching power button and an internal power switch. These are OR configured, meaning they override each other. By default, the internal power switch is in the OFF position.","title":"Power cable"},{"location":"underwater-gps/power-supply/#battery","text":"A battery may be used instead of wired power. Use a battery with a nominal voltage within the voltage range. A Molex-to-XT60 cable assembly is provided with the Underwater GPS kit for ease of connection to battery packs with XT60 connectors. The battery pack can be secured within the Underwater GPS housing using the provided non-slip battery strap. Maximum battery width: 50 mm (2\").","title":"Battery"},{"location":"underwater-gps/power-supply/#power-usage","text":"The power usage of the Underwater GPS G2 will vary based on the supplied voltage, Receiver and Locator setup, and whether or not the BlueROV2 Integration Kit has been installed. The table below list the average current consumption for components used with Underwater GPS G2, assuming an input voltage of 12 VDC. Component Current consumption (12V in) Master Electronics 250 mA Locator-A1 10 mA Locator-D1 130 mA Locator-S1 60 mA 4x Receiver-D1 4x35 mA Antenna 20 mA","title":"Power usage"},{"location":"underwater-gps/quickstart/","text":"Quickstart Intro This is a guide on how to start using the Underwater GPS system. The steps are: Power the Topside unit Calibrate IMUs Deploying Antenna/Receivers Connect everything Select Locator and channel Configure Antenna/Receiver placement in GUI Power the topside unit Start by connecting power to the topside unit. We do this first because we want the GPS Receiver to start receiving signals and acheive a lock while we setup the rest of the system. If you are using the Locator-U1, power it on now so it also have time to get GPS lock. Connect with Underwater GPS Connect to the WiFi access point UnderwaterGPS on your PC/tablet/smartphone. Password for WiFi is waterlinked . Navigate to http://192.168.7.1/ in a web browser to access the Underwater GPS web GUI. Calibrate IMUs At the top bar on the GUI you will see a calibration bar for the IMU. To calibrate the IMU rotate it in a figure of 8 and keep doing it until the IMU calibration bar becomes full and green. Select Locator and channel Select the right Locator and choose which channal to listen on. This is configurated on the setting page of the web GUI. The Water Linked standard is to use channel 2. This is also the default channel for the Locator-U1. Warning If you are using the Locator-A1 you need to provide depth information to the topside unit. Description on how to do this is found here . Deploying of Antenna/Receivers Antenna Unfold the Antenna and lock the mast straight using the latches on the folding joints. Secure the three arms in place using the thumb screw. Place the Antenna in water at the desired location. Secure the Antenna using the RAM Mount components included with the Antenna. Tip If the RAM Mount components included with the Antenna does not accurately fit your needs, you can find many alternative RAM Mount Arms and Bases which will fit the C-Size here . Receivers Before starting to deploy the Receivers in the water, add a piece of tape on the Receiver cable on the desired depth to make setup easier. Place the Receivers in the water on the desired location and decide which number (1-4) each Receiver will have. This is important when connecting the Receivers to the topside unit. Tip Adding lead weights just above the Receiver helps keep them stable when doing the positioning. Connect everything When connecting the Receiver cables to the Topside unit remember the numbering you decided on and connect the connector to the accordingly port. If this is not correct the position will be completely wrong. Next you connect the Locator if you are using the A1 or D1. Configure Antenna/Receiver placement and seach range in GUI After selecting the correct Locator, you need to provide the correct placement of the Antenna/Receivers to the GUI for the positioning to work correctly. This is done by either drag'n drop of each Receiver to the correct placment relative to the topside unit, or by entering the Receiver positions manually. For the Antenna you can only enter the position manually under Advanced settings . Limit the search area by changing the radius, direction and sector size. Tip Reducing the search range helps to improve the performance of the system. It is recomended to limith this range if you are operating in a smaller area. This is especially important in tanks and pools. You are now ready to explore the underwater world while knowing where you are!","title":"Quickstart"},{"location":"underwater-gps/quickstart/#quickstart","text":"","title":"Quickstart"},{"location":"underwater-gps/quickstart/#intro","text":"This is a guide on how to start using the Underwater GPS system. The steps are: Power the Topside unit Calibrate IMUs Deploying Antenna/Receivers Connect everything Select Locator and channel Configure Antenna/Receiver placement in GUI","title":"Intro"},{"location":"underwater-gps/quickstart/#power-the-topside-unit","text":"Start by connecting power to the topside unit. We do this first because we want the GPS Receiver to start receiving signals and acheive a lock while we setup the rest of the system. If you are using the Locator-U1, power it on now so it also have time to get GPS lock.","title":"Power the topside unit"},{"location":"underwater-gps/quickstart/#connect-with-underwater-gps","text":"Connect to the WiFi access point UnderwaterGPS on your PC/tablet/smartphone. Password for WiFi is waterlinked . Navigate to http://192.168.7.1/ in a web browser to access the Underwater GPS web GUI.","title":"Connect with Underwater GPS"},{"location":"underwater-gps/quickstart/#calibrate-imus","text":"At the top bar on the GUI you will see a calibration bar for the IMU. To calibrate the IMU rotate it in a figure of 8 and keep doing it until the IMU calibration bar becomes full and green.","title":"Calibrate IMUs"},{"location":"underwater-gps/quickstart/#select-locator-and-channel","text":"Select the right Locator and choose which channal to listen on. This is configurated on the setting page of the web GUI. The Water Linked standard is to use channel 2. This is also the default channel for the Locator-U1. Warning If you are using the Locator-A1 you need to provide depth information to the topside unit. Description on how to do this is found here .","title":"Select Locator and channel"},{"location":"underwater-gps/quickstart/#deploying-of-antennareceivers","text":"","title":"Deploying of Antenna/Receivers"},{"location":"underwater-gps/quickstart/#antenna","text":"Unfold the Antenna and lock the mast straight using the latches on the folding joints. Secure the three arms in place using the thumb screw. Place the Antenna in water at the desired location. Secure the Antenna using the RAM Mount components included with the Antenna. Tip If the RAM Mount components included with the Antenna does not accurately fit your needs, you can find many alternative RAM Mount Arms and Bases which will fit the C-Size here .","title":"Antenna"},{"location":"underwater-gps/quickstart/#receivers","text":"Before starting to deploy the Receivers in the water, add a piece of tape on the Receiver cable on the desired depth to make setup easier. Place the Receivers in the water on the desired location and decide which number (1-4) each Receiver will have. This is important when connecting the Receivers to the topside unit. Tip Adding lead weights just above the Receiver helps keep them stable when doing the positioning.","title":"Receivers"},{"location":"underwater-gps/quickstart/#connect-everything","text":"When connecting the Receiver cables to the Topside unit remember the numbering you decided on and connect the connector to the accordingly port. If this is not correct the position will be completely wrong. Next you connect the Locator if you are using the A1 or D1.","title":"Connect everything"},{"location":"underwater-gps/quickstart/#configure-antennareceiver-placement-and-seach-range-in-gui","text":"After selecting the correct Locator, you need to provide the correct placement of the Antenna/Receivers to the GUI for the positioning to work correctly. This is done by either drag'n drop of each Receiver to the correct placment relative to the topside unit, or by entering the Receiver positions manually. For the Antenna you can only enter the position manually under Advanced settings . Limit the search area by changing the radius, direction and sector size. Tip Reducing the search range helps to improve the performance of the system. It is recomended to limith this range if you are operating in a smaller area. This is especially important in tanks and pools. You are now ready to explore the underwater world while knowing where you are!","title":"Configure Antenna/Receiver placement and seach range in GUI"},{"location":"underwater-gps/trouble-shooting/","text":"Trouble shooting If you are experiencing issues with the Underwater GPS look at the following points to help you trouble shoot. Resolving errors The top right corner of the GUI shows error messages from the Underwater GPS. Positioning will not work until they are resolved. The table below describes the error messages and how to solve the problem. Message Solition No external depth received. Is it being sent correctly? The Underwater GPS is not receiving the depth of the Locator from the ROV. This normally means software on the ROV is not working correctly. Details on how the depth is sent to the system can be found here . No signal from Locator-U1. Have you selected the correct channel? Verify that the Locator-U1 is powered on and that it has GPS lock (See LED signals ). Verify that the same channel is selected on the settings page and the Locator rotaty switch. Verify that the Locator and Receivers are in the water Missing GPS lock/position. Please provide me with an unobstructed view of the sky The Underwater GPS needs GPS lock for time sync purposes. Move the Topside to another location where it has better view of the sky. Locator-D1 not detected. Please verify connection. Locator-D1 selected but not detected by the Master-D1. Verify connection. Receiver N not detected. Please verify connection. Receiver N is not detected by the Master-D1. Verify connection. External satellite position is required but not received. External position is selected, but not received via the API . Typically this is an external software not started or not working. External orientation is required but not received. External orientation is selected, but not received via the API . Typically this is an external software not started or not working. IMU is not calibrated: position will not be accurate. Please rotate the kit to calibrate or use external orientation source. See IMU calibration for details on how calibrate. GPS has no position, please provide me with an unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync porpuses. Move the Topside to another location where it has better view of the sky. Network setup Are you able to see the Underwater GPS GUI? Are you connected to the UnderwaterGPS WiFi? What is the setting of the switch for configuring ethernet network? If the switch is set to a static IP: Have you configured a static IP for your computer? Are you connecting directly to the Master-D1 or is your computer on the same network? Generic Are you running the latest software version? Are there any warnings displayed in the GUI? Receiver setup Are the Receivers connected to the correct ports (numbered 1-4) on the Topside? Have you measured the distances to the Recivers correctly and are the distances matching the measurements in the Receiver setup of the GUI? Is the search range matching the operational area? If Receivers are on a line, have you limited the search area to one side of the \"line\"? Try lift Receiver 1 out of the water and verify that Receiver 1 has a flat signal in the diagnostic view. Repeat for the other Receivers. This helps verify that you have connected correctly. Settings Have you selected the correct channel when using Locator-U1? If you are statinary: Have you selected a static position for the GPS and IMU? If you are moving: Have you selected on-board (or external) GPS and IMU? Diagnostic page Is there signal from all of the Receivers? Is there a significant peek in the signal for each Receiver? Is there noise from a nearby echo sounder which is causing acoustic interference? Such interference can be seen in the diagnostic view. See diagnostic explanation for more details.","title":"Trouble shooting"},{"location":"underwater-gps/trouble-shooting/#trouble-shooting","text":"If you are experiencing issues with the Underwater GPS look at the following points to help you trouble shoot.","title":"Trouble shooting"},{"location":"underwater-gps/trouble-shooting/#resolving-errors","text":"The top right corner of the GUI shows error messages from the Underwater GPS. Positioning will not work until they are resolved. The table below describes the error messages and how to solve the problem. Message Solition No external depth received. Is it being sent correctly? The Underwater GPS is not receiving the depth of the Locator from the ROV. This normally means software on the ROV is not working correctly. Details on how the depth is sent to the system can be found here . No signal from Locator-U1. Have you selected the correct channel? Verify that the Locator-U1 is powered on and that it has GPS lock (See LED signals ). Verify that the same channel is selected on the settings page and the Locator rotaty switch. Verify that the Locator and Receivers are in the water Missing GPS lock/position. Please provide me with an unobstructed view of the sky The Underwater GPS needs GPS lock for time sync purposes. Move the Topside to another location where it has better view of the sky. Locator-D1 not detected. Please verify connection. Locator-D1 selected but not detected by the Master-D1. Verify connection. Receiver N not detected. Please verify connection. Receiver N is not detected by the Master-D1. Verify connection. External satellite position is required but not received. External position is selected, but not received via the API . Typically this is an external software not started or not working. External orientation is required but not received. External orientation is selected, but not received via the API . Typically this is an external software not started or not working. IMU is not calibrated: position will not be accurate. Please rotate the kit to calibrate or use external orientation source. See IMU calibration for details on how calibrate. GPS has no position, please provide me with an unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync porpuses. Move the Topside to another location where it has better view of the sky.","title":"Resolving errors"},{"location":"underwater-gps/trouble-shooting/#network-setup","text":"Are you able to see the Underwater GPS GUI? Are you connected to the UnderwaterGPS WiFi? What is the setting of the switch for configuring ethernet network? If the switch is set to a static IP: Have you configured a static IP for your computer? Are you connecting directly to the Master-D1 or is your computer on the same network?","title":"Network setup"},{"location":"underwater-gps/trouble-shooting/#generic","text":"Are you running the latest software version? Are there any warnings displayed in the GUI?","title":"Generic"},{"location":"underwater-gps/trouble-shooting/#receiver-setup","text":"Are the Receivers connected to the correct ports (numbered 1-4) on the Topside? Have you measured the distances to the Recivers correctly and are the distances matching the measurements in the Receiver setup of the GUI? Is the search range matching the operational area? If Receivers are on a line, have you limited the search area to one side of the \"line\"? Try lift Receiver 1 out of the water and verify that Receiver 1 has a flat signal in the diagnostic view. Repeat for the other Receivers. This helps verify that you have connected correctly.","title":"Receiver setup"},{"location":"underwater-gps/trouble-shooting/#settings","text":"Have you selected the correct channel when using Locator-U1? If you are statinary: Have you selected a static position for the GPS and IMU? If you are moving: Have you selected on-board (or external) GPS and IMU?","title":"Settings"},{"location":"underwater-gps/trouble-shooting/#diagnostic-page","text":"Is there signal from all of the Receivers? Is there a significant peek in the signal for each Receiver? Is there noise from a nearby echo sounder which is causing acoustic interference? Such interference can be seen in the diagnostic view. See diagnostic explanation for more details.","title":"Diagnostic page"},{"location":"underwater-gps/warnings/","text":"Warnings To avoid any damage to the Underwater GPS, please read these warnings carefully before it is installed and used for the first time. Operation medium The Underwater GPS system will ONLY work with both a Locator and the Receivers in water. It will not work in air. Max voltage The absolute maximum voltage rating of the equipment is 30V. Voltages above this will damage the electronics. Temperature Make sure the system does not overheat. Avoid placing it in direct sunlight over extended periods of time. Salt water The contents of the Topside housing will corrode and/or short if in contact with salt water. Keep the housing lid closed when in the field to avoid salt water getting inside. Force Avoid using excessive force on connectors, screws and other parts of the system as this can lead to mechanical failure.","title":"Warnings"},{"location":"underwater-gps/warnings/#warnings","text":"To avoid any damage to the Underwater GPS, please read these warnings carefully before it is installed and used for the first time. Operation medium The Underwater GPS system will ONLY work with both a Locator and the Receivers in water. It will not work in air. Max voltage The absolute maximum voltage rating of the equipment is 30V. Voltages above this will damage the electronics. Temperature Make sure the system does not overheat. Avoid placing it in direct sunlight over extended periods of time. Salt water The contents of the Topside housing will corrode and/or short if in contact with salt water. Keep the housing lid closed when in the field to avoid salt water getting inside. Force Avoid using excessive force on connectors, screws and other parts of the system as this can lead to mechanical failure.","title":"Warnings"},{"location":"underwater-gps/gui/api/","text":"API The Underwater GPS system comes with an easy-to-use software API. This API uses a HTTP-based scheme to interact with the system. Through the API you can among others: Read acoustic and global position data Read GPS and IMU raw data Read and set POIs Set configuration settings See demo.waterlinked.com/swagger for more information. Beacuse the API is based on HTTP and it is possible to use multiple different programing languages to interface it. In our examples on Github we use Python 2.7. How to install the requirements needed when using the API with Python is explained below. How to install requirements needed to use Water Linked API examples When starting to use the Water Linked software API you need to make sure you have all the requriments installed. First install Python 2.7 and pip: Windows: Guide Mac: It should be preinstalled. Check by using these command: python2 -V pip -V Linux: It should be preinstalled. Check by using these command: python2 --version pip --version Next you need to download/clone our repository which is found on Github . Then you open a terminal in the directory where you saved the files and install the required Python packages using this command: Windows: python -m pip install -r requirements.txt Linux and Mac: pip install -r requirements.txt Once this is done you are ready to start interfacing the API. Example code which use the API can be found here . Providing depth to system when using Locator-A1 Make sure you have completed the installation of the requirements found above. Then open a terminal window in the dictionary where the files are saved and run the command: python externaldepth.py -d DEPTH_OF_LOCATOR -t TEMP_OF_WATER -u URL_OF_KIT -r REPETITION_RATE DEPTH_OF_LOCATOR: Is the current depth of the Locator. TEMP_OF_WATER: Is the temperature of the water where the Locator is operating in. URL_OF_KIT: Is the url of the kit. Usually: \"http://192.168.2.94\" REPETITION_RATE: If you want to repate the sending of depth it is the delay between each sending in seconds.","title":"API"},{"location":"underwater-gps/gui/api/#api","text":"The Underwater GPS system comes with an easy-to-use software API. This API uses a HTTP-based scheme to interact with the system. Through the API you can among others: Read acoustic and global position data Read GPS and IMU raw data Read and set POIs Set configuration settings See demo.waterlinked.com/swagger for more information. Beacuse the API is based on HTTP and it is possible to use multiple different programing languages to interface it. In our examples on Github we use Python 2.7. How to install the requirements needed when using the API with Python is explained below.","title":"API"},{"location":"underwater-gps/gui/api/#how-to-install-requirements-needed-to-use-water-linked-api-examples","text":"When starting to use the Water Linked software API you need to make sure you have all the requriments installed. First install Python 2.7 and pip: Windows: Guide Mac: It should be preinstalled. Check by using these command: python2 -V pip -V Linux: It should be preinstalled. Check by using these command: python2 --version pip --version Next you need to download/clone our repository which is found on Github . Then you open a terminal in the directory where you saved the files and install the required Python packages using this command: Windows: python -m pip install -r requirements.txt Linux and Mac: pip install -r requirements.txt Once this is done you are ready to start interfacing the API. Example code which use the API can be found here .","title":"How to install requirements needed to use Water Linked API examples"},{"location":"underwater-gps/gui/api/#providing-depth-to-system-when-using-locator-a1","text":"Make sure you have completed the installation of the requirements found above. Then open a terminal window in the dictionary where the files are saved and run the command: python externaldepth.py -d DEPTH_OF_LOCATOR -t TEMP_OF_WATER -u URL_OF_KIT -r REPETITION_RATE DEPTH_OF_LOCATOR: Is the current depth of the Locator. TEMP_OF_WATER: Is the temperature of the water where the Locator is operating in. URL_OF_KIT: Is the url of the kit. Usually: \"http://192.168.2.94\" REPETITION_RATE: If you want to repate the sending of depth it is the delay between each sending in seconds.","title":"Providing depth to system when using Locator-A1"},{"location":"underwater-gps/gui/diagnostic/","text":"Diagnostics Verify Receiver signal strength in the diagnostic page on the web GUI by going to the diagnostic tab in the side panel on the left. This view will show the signal strength from all Receivers. It should look something like this: In the diagnostic plot you should see the signal from all 4 Receivers. The signals should be well above the noise floor. Interference Acoustic interference can be observed in the diagnostic plot. Echo sounders from your boat or nearby boats typically appears like burst noise. If it is coming from your boat, try to turn off the echo sounder to improve position accuracy. In case of interference from other acoustic sources, use the GUI to try other channels to avoid the interference.","title":"Diagnostic"},{"location":"underwater-gps/gui/diagnostic/#diagnostics","text":"Verify Receiver signal strength in the diagnostic page on the web GUI by going to the diagnostic tab in the side panel on the left. This view will show the signal strength from all Receivers. It should look something like this: In the diagnostic plot you should see the signal from all 4 Receivers. The signals should be well above the noise floor.","title":"Diagnostics"},{"location":"underwater-gps/gui/diagnostic/#interference","text":"Acoustic interference can be observed in the diagnostic plot. Echo sounders from your boat or nearby boats typically appears like burst noise. If it is coming from your boat, try to turn off the echo sounder to improve position accuracy. In case of interference from other acoustic sources, use the GUI to try other channels to avoid the interference.","title":"Interference"},{"location":"underwater-gps/gui/position/","text":"Position view The Underwater GPS GUI is web based. Using your favorite web browser, go the IP address as defined here . We currently support and recommend Chrome, Firefox, Safari and Edge. Attention Internet Explorer is not supported as of now.","title":"Position"},{"location":"underwater-gps/gui/position/#position-view","text":"The Underwater GPS GUI is web based. Using your favorite web browser, go the IP address as defined here . We currently support and recommend Chrome, Firefox, Safari and Edge. Attention Internet Explorer is not supported as of now.","title":"Position view"},{"location":"underwater-gps/gui/receivers/","text":"Receivers Quick deply Antenna Guidelines You may place the Antenna at any location up to 10m from the Topside housing (limited by cable). Note The Forward direction of the Antenna must align with the Forward direction of the Topside to get correct global position. Line-of-sight Try to place the Antenna so that it has free line-of-sight to the Locator. Antenna Depth Place the Antenna at 1 meters depth, indicated by the top folding joint of the mast. Limit search area You will get a better position if you help the search algorithm to narrow the search area. Limit the search range setting to the area where the Locator is expected to be. Directivity The Antenna and Locators are fully omnidirectional and transmits/receives equally good in all directions. The only direction with less performance is backwards where the cable enters. Antenna stability Secure the Antenna tightly to the vessel using the provided Ram Mount Receiver-D1 Guidelines You may place the Receivers at any location within 100m from the Topside housing. In order to ensure the best performance, you should follow a few guidelines: Line-of-sight Try to place the Receivers so they all have a free line-of-sight to the Locator. Good Separation The system performs better when there is a decent distance between the Receivers. More separation is better, but 2x2 meters is sufficient for good performance. Receiver Depth Place the Receivers at a few meters depth. Near the surface there are typically small air bubbles caused by waves. These small air bubbles attenuate the acoustic signal and can reduce the system performance. Limit search area You will get a better position if you help the search algorithm to narrow the search area. Limit the search range setting to the area where the Locator is expected to be. Directivity The Receivers and Locators are fully omnidirectional and transmits/receives equally good in all directions. The only direction with less performance is backwards where the cable enters. Receiver stability Add some weight to the Receiver cable just above the Receiver so they hang straight down in the water On board GPS If the master electronics is static during operation it is recommended to use the static option for the GPS. This is to remove the inaccuracy of the GPS Receiver in global position. Only use onboard GPS when the reference system is moving, eg. if mounted to a boat. Reference Systems In order to calculate the absolute position of the Locator we need to define two reference systems, the acoustic and the global reference system. The global reference system is defined by latitude and longitude and is the reference system used by the GPS and maps. The acoustic reference system (the Forward axis) is defined by the orientation of the housing. The housing is by definition located in origin (black square). A label on top of the lid indicates the forward direction. Boat Example The illustration bellow shows a typical Receiver configuration when installed on a boat. The Receivers are hanging from the side of the boat, one in each corner. The depth of the Receivers are typically 2-4m, deep enough to get below the hull and get free line-of-sight to the Locator. Notice how the housing defines the origin and coordinate system of the acoustic reference system.","title":"Receivers"},{"location":"underwater-gps/gui/receivers/#receivers","text":"","title":"Receivers"},{"location":"underwater-gps/gui/receivers/#quick-deply-antenna-guidelines","text":"You may place the Antenna at any location up to 10m from the Topside housing (limited by cable). Note The Forward direction of the Antenna must align with the Forward direction of the Topside to get correct global position. Line-of-sight Try to place the Antenna so that it has free line-of-sight to the Locator. Antenna Depth Place the Antenna at 1 meters depth, indicated by the top folding joint of the mast. Limit search area You will get a better position if you help the search algorithm to narrow the search area. Limit the search range setting to the area where the Locator is expected to be. Directivity The Antenna and Locators are fully omnidirectional and transmits/receives equally good in all directions. The only direction with less performance is backwards where the cable enters. Antenna stability Secure the Antenna tightly to the vessel using the provided Ram Mount","title":"Quick deply Antenna Guidelines"},{"location":"underwater-gps/gui/receivers/#receiver-d1-guidelines","text":"You may place the Receivers at any location within 100m from the Topside housing. In order to ensure the best performance, you should follow a few guidelines: Line-of-sight Try to place the Receivers so they all have a free line-of-sight to the Locator. Good Separation The system performs better when there is a decent distance between the Receivers. More separation is better, but 2x2 meters is sufficient for good performance. Receiver Depth Place the Receivers at a few meters depth. Near the surface there are typically small air bubbles caused by waves. These small air bubbles attenuate the acoustic signal and can reduce the system performance. Limit search area You will get a better position if you help the search algorithm to narrow the search area. Limit the search range setting to the area where the Locator is expected to be. Directivity The Receivers and Locators are fully omnidirectional and transmits/receives equally good in all directions. The only direction with less performance is backwards where the cable enters. Receiver stability Add some weight to the Receiver cable just above the Receiver so they hang straight down in the water On board GPS If the master electronics is static during operation it is recommended to use the static option for the GPS. This is to remove the inaccuracy of the GPS Receiver in global position. Only use onboard GPS when the reference system is moving, eg. if mounted to a boat.","title":"Receiver-D1 Guidelines"},{"location":"underwater-gps/gui/receivers/#reference-systems","text":"In order to calculate the absolute position of the Locator we need to define two reference systems, the acoustic and the global reference system. The global reference system is defined by latitude and longitude and is the reference system used by the GPS and maps. The acoustic reference system (the Forward axis) is defined by the orientation of the housing. The housing is by definition located in origin (black square). A label on top of the lid indicates the forward direction.","title":"Reference Systems"},{"location":"underwater-gps/gui/receivers/#boat-example","text":"The illustration bellow shows a typical Receiver configuration when installed on a boat. The Receivers are hanging from the side of the boat, one in each corner. The depth of the Receivers are typically 2-4m, deep enough to get below the hull and get free line-of-sight to the Locator. Notice how the housing defines the origin and coordinate system of the acoustic reference system.","title":"Boat Example"},{"location":"underwater-gps/gui/settings/","text":"Settings Locator setup In this section you choose which locator you are using with the system and on which channel it is sending. The Water Linked default channel is 2 and this is the best channel for long distance operation. If using the Locator-U1 the channel needs to macth the rotary switch at the back of the U1. Channel overveiw can be found here . Warning If you are using the Locator-A1, you need to provid depth information to the topside unit. Description on how to do this is found here . Topside Setup In this section you have the option to choose which GPS and IMU source you are going to use. We strongly advise to use static or external GPS when operation allow for it. Because the master-D1 electronics has a standard GPS receiver it has a standard deviation of around 2-3 meters. How to input external GPS and IMU with the API is decribed here . User preferences In the user preferences section you can select the unit of measurments you want to use. We support both Metric and Imperial. You can also select if you want a dummy boat to be displayed on the map pages and the receiver configuration page.","title":"Settings"},{"location":"underwater-gps/gui/settings/#settings","text":"","title":"Settings"},{"location":"underwater-gps/gui/settings/#locator-setup","text":"In this section you choose which locator you are using with the system and on which channel it is sending. The Water Linked default channel is 2 and this is the best channel for long distance operation. If using the Locator-U1 the channel needs to macth the rotary switch at the back of the U1. Channel overveiw can be found here . Warning If you are using the Locator-A1, you need to provid depth information to the topside unit. Description on how to do this is found here .","title":"Locator setup"},{"location":"underwater-gps/gui/settings/#topside-setup","text":"In this section you have the option to choose which GPS and IMU source you are going to use. We strongly advise to use static or external GPS when operation allow for it. Because the master-D1 electronics has a standard GPS receiver it has a standard deviation of around 2-3 meters. How to input external GPS and IMU with the API is decribed here .","title":"Topside Setup"},{"location":"underwater-gps/gui/settings/#user-preferences","text":"In the user preferences section you can select the unit of measurments you want to use. We support both Metric and Imperial. You can also select if you want a dummy boat to be displayed on the map pages and the receiver configuration page.","title":"User preferences"}]}